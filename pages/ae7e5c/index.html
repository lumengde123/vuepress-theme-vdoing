<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é»‘é©¬å¤§äº‹ä»¶åå°ç®¡ç† Vue3 | dedeç¬”è®°</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="ä¸€ä¸ªè®°å½•ä¸ªäººç”Ÿæ´»å’Œç¬”è®°çš„ç½‘ç«™">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.677a4718.css" as="style"><link rel="preload" href="/assets/js/app.248dd438.js" as="script"><link rel="preload" href="/assets/js/2.344e1e7e.js" as="script"><link rel="preload" href="/assets/js/33.7231f4ef.js" as="script"><link rel="prefetch" href="/assets/js/10.5d792c1e.js"><link rel="prefetch" href="/assets/js/11.034c6bfa.js"><link rel="prefetch" href="/assets/js/12.8e2e458c.js"><link rel="prefetch" href="/assets/js/13.1a82fa71.js"><link rel="prefetch" href="/assets/js/14.1f9493b8.js"><link rel="prefetch" href="/assets/js/15.f259af7b.js"><link rel="prefetch" href="/assets/js/16.d8305dd3.js"><link rel="prefetch" href="/assets/js/17.a6d9db2c.js"><link rel="prefetch" href="/assets/js/18.7c308ba9.js"><link rel="prefetch" href="/assets/js/19.b345c09f.js"><link rel="prefetch" href="/assets/js/20.753c05b0.js"><link rel="prefetch" href="/assets/js/21.c205c2fe.js"><link rel="prefetch" href="/assets/js/22.812aa981.js"><link rel="prefetch" href="/assets/js/23.6d21a779.js"><link rel="prefetch" href="/assets/js/24.c4c744b8.js"><link rel="prefetch" href="/assets/js/25.f84b7f6a.js"><link rel="prefetch" href="/assets/js/26.4fe7fdfe.js"><link rel="prefetch" href="/assets/js/27.80785af3.js"><link rel="prefetch" href="/assets/js/28.5851464b.js"><link rel="prefetch" href="/assets/js/29.5b6a2153.js"><link rel="prefetch" href="/assets/js/3.7f3284de.js"><link rel="prefetch" href="/assets/js/30.9ac12951.js"><link rel="prefetch" href="/assets/js/31.81da7f16.js"><link rel="prefetch" href="/assets/js/32.9aa103a8.js"><link rel="prefetch" href="/assets/js/34.a121fa6a.js"><link rel="prefetch" href="/assets/js/35.424ec5b5.js"><link rel="prefetch" href="/assets/js/36.31f5fe65.js"><link rel="prefetch" href="/assets/js/37.570a3c9b.js"><link rel="prefetch" href="/assets/js/38.7d407be3.js"><link rel="prefetch" href="/assets/js/39.ba103754.js"><link rel="prefetch" href="/assets/js/4.807864dd.js"><link rel="prefetch" href="/assets/js/40.11cbef4d.js"><link rel="prefetch" href="/assets/js/41.b5c108d9.js"><link rel="prefetch" href="/assets/js/42.3433e0d8.js"><link rel="prefetch" href="/assets/js/43.08e0b95f.js"><link rel="prefetch" href="/assets/js/44.a4f96bdb.js"><link rel="prefetch" href="/assets/js/45.67893436.js"><link rel="prefetch" href="/assets/js/46.e7b8a013.js"><link rel="prefetch" href="/assets/js/47.2a8c926b.js"><link rel="prefetch" href="/assets/js/48.ccf588d1.js"><link rel="prefetch" href="/assets/js/49.0387a16a.js"><link rel="prefetch" href="/assets/js/5.f2a4944a.js"><link rel="prefetch" href="/assets/js/50.27c91c93.js"><link rel="prefetch" href="/assets/js/51.4a338801.js"><link rel="prefetch" href="/assets/js/52.4c799d9e.js"><link rel="prefetch" href="/assets/js/53.cfb4d407.js"><link rel="prefetch" href="/assets/js/54.e59ffb0e.js"><link rel="prefetch" href="/assets/js/55.baa0ec2e.js"><link rel="prefetch" href="/assets/js/56.2e4b1f08.js"><link rel="prefetch" href="/assets/js/57.c8b9f7fd.js"><link rel="prefetch" href="/assets/js/58.bd930bf7.js"><link rel="prefetch" href="/assets/js/59.6d44c031.js"><link rel="prefetch" href="/assets/js/6.186f976c.js"><link rel="prefetch" href="/assets/js/60.60915195.js"><link rel="prefetch" href="/assets/js/61.7f028641.js"><link rel="prefetch" href="/assets/js/62.a526fb7f.js"><link rel="prefetch" href="/assets/js/63.f20a607a.js"><link rel="prefetch" href="/assets/js/64.968412f6.js"><link rel="prefetch" href="/assets/js/65.aee95261.js"><link rel="prefetch" href="/assets/js/66.94569c18.js"><link rel="prefetch" href="/assets/js/67.6202e644.js"><link rel="prefetch" href="/assets/js/68.e871e66d.js"><link rel="prefetch" href="/assets/js/69.fe3bae7d.js"><link rel="prefetch" href="/assets/js/7.9b15427c.js"><link rel="prefetch" href="/assets/js/70.9b5839c6.js"><link rel="prefetch" href="/assets/js/71.5ddc0961.js"><link rel="prefetch" href="/assets/js/72.5294471d.js"><link rel="prefetch" href="/assets/js/73.b709945d.js"><link rel="prefetch" href="/assets/js/74.80033da7.js"><link rel="prefetch" href="/assets/js/75.38917b41.js"><link rel="prefetch" href="/assets/js/76.5edbf42e.js"><link rel="prefetch" href="/assets/js/77.e69e2379.js"><link rel="prefetch" href="/assets/js/78.c5bd30b8.js"><link rel="prefetch" href="/assets/js/79.6f7be742.js"><link rel="prefetch" href="/assets/js/8.4d990484.js"><link rel="prefetch" href="/assets/js/80.701d69e6.js"><link rel="prefetch" href="/assets/js/81.faa84bf9.js"><link rel="prefetch" href="/assets/js/82.d7b97b1e.js"><link rel="prefetch" href="/assets/js/83.6d6e1824.js"><link rel="prefetch" href="/assets/js/84.3f5f68a8.js"><link rel="prefetch" href="/assets/js/85.bff55a80.js"><link rel="prefetch" href="/assets/js/86.981ff7dc.js"><link rel="prefetch" href="/assets/js/87.7c596571.js"><link rel="prefetch" href="/assets/js/88.6191e425.js"><link rel="prefetch" href="/assets/js/89.26a74895.js"><link rel="prefetch" href="/assets/js/9.4a4e5846.js">
    <link rel="stylesheet" href="/assets/css/0.styles.677a4718.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="dedeç¬”è®°" class="logo"> <span class="site-name can-hide">dedeç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/mynavigation/" class="nav-link">ç½‘å€å¯¼èˆª</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å‰ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/456ff6/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/a61298/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>å°ç¨‹åº</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/73d77b/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯" class="dropdown-title"><a href="/technology/" class="link-title">æŠ€æœ¯</a> <span class="title" style="display:none;">æŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">åšå®¢æ­å»º</a></li><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">æŠ€æœ¯æ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/pages/8292d8/" class="nav-link">Gitç¬”è®°</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”µå•†" class="dropdown-title"><a href="/e-commerce/" class="link-title">ç”µå•†</a> <span class="title" style="display:none;">ç”µå•†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7054ac/" class="nav-link">æ— è´§æºåº—ç¾¤</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/pages/0d17b9/" class="nav-link">éšç¬”</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">å‹é“¾</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/lumengde123/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>Mengde Lu</h3> <span>ä¸€æšå°èœé¸¡</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/mynavigation/" class="nav-link">ç½‘å€å¯¼èˆª</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å‰ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/456ff6/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/a61298/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>å°ç¨‹åº</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/73d77b/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯" class="dropdown-title"><a href="/technology/" class="link-title">æŠ€æœ¯</a> <span class="title" style="display:none;">æŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">åšå®¢æ­å»º</a></li><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">æŠ€æœ¯æ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/pages/8292d8/" class="nav-link">Gitç¬”è®°</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”µå•†" class="dropdown-title"><a href="/e-commerce/" class="link-title">ç”µå•†</a> <span class="title" style="display:none;">ç”µå•†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7054ac/" class="nav-link">æ— è´§æºåº—ç¾¤</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">æ›´å¤š</a> <span class="title" style="display:none;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/pages/0d17b9/" class="nav-link">éšç¬”</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">å‹é“¾</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/lumengde123/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å°ç¨‹åº</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/73d77b/" class="sidebar-link">å¾®ä¿¡å°ç¨‹åºå¸¸è§æŠ¥é”™</a></li><li><a href="/pages/c44a78/" class="sidebar-link">ç»„ä»¶&amp;ä»£ç å—æ”¶è—</a></li><li><a href="/pages/xianxiami/" class="sidebar-link">å’¸è™¾ç±³å£çº¸ uniapp</a></li><li><a href="/pages/5c2b6c/" class="sidebar-link">é»‘é©¬æ™ºæ…§å•†åŸ Vue2</a></li><li><a href="/pages/ae7e5c/" aria-current="page" class="active sidebar-link">é»‘é©¬å¤§äº‹ä»¶åå°ç®¡ç† Vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#é¡¹ç›®é¡µé¢ä»‹ç»" class="sidebar-link">é¡¹ç›®é¡µé¢ä»‹ç»</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#pnpm-åŒ…ç®¡ç†å™¨-åˆ›å»ºé¡¹ç›®" class="sidebar-link">pnpm åŒ…ç®¡ç†å™¨ - åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#eslint-prettier-é…ç½®ä»£ç é£æ ¼" class="sidebar-link">ESLint &amp; prettier é…ç½®ä»£ç é£æ ¼</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#åŸºäº-husky-çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ" class="sidebar-link">åŸºäº husky  çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#è°ƒæ•´é¡¹ç›®ç›®å½•" class="sidebar-link">è°ƒæ•´é¡¹ç›®ç›®å½•</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#vuerouter4-è·¯ç”±ä»£ç è§£æ" class="sidebar-link">VueRouter4 è·¯ç”±ä»£ç è§£æ</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#å¼•å…¥-element-ui-ç»„ä»¶åº“" class="sidebar-link">å¼•å…¥ element-ui ç»„ä»¶åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#pinia-æ„å»ºç”¨æˆ·ä»“åº“-å’Œ-æŒä¹…åŒ–" class="sidebar-link">Pinia - æ„å»ºç”¨æˆ·ä»“åº“ å’Œ æŒä¹…åŒ–</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#pinia-é…ç½®ä»“åº“ç»Ÿä¸€ç®¡ç†" class="sidebar-link">Pinia - é…ç½®ä»“åº“ç»Ÿä¸€ç®¡ç†</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ•°æ®äº¤äº’-è¯·æ±‚å·¥å…·è®¾è®¡" class="sidebar-link">æ•°æ®äº¤äº’ - è¯·æ±‚å·¥å…·è®¾è®¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#_1-åˆ›å»º-axios-å®ä¾‹" class="sidebar-link">1. åˆ›å»º axios å®ä¾‹</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#_2-å®Œæˆ-axios-åŸºæœ¬é…ç½®" class="sidebar-link">2. å®Œæˆ axios åŸºæœ¬é…ç½®</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#é¦–é¡µæ•´ä½“è·¯ç”±è®¾è®¡" class="sidebar-link">é¦–é¡µæ•´ä½“è·¯ç”±è®¾è®¡</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ³¨å†Œç™»å½•-é™æ€ç»“æ„-åŸºæœ¬åˆ‡æ¢" class="sidebar-link">æ³¨å†Œç™»å½• é™æ€ç»“æ„ &amp; åŸºæœ¬åˆ‡æ¢</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ³¨å†ŒåŠŸèƒ½" class="sidebar-link">æ³¨å†ŒåŠŸèƒ½</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å®ç°æ³¨å†Œæ ¡éªŒ" class="sidebar-link">å®ç°æ³¨å†Œæ ¡éªŒ</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ³¨å†Œå‰çš„é¢„æ ¡éªŒ" class="sidebar-link">æ³¨å†Œå‰çš„é¢„æ ¡éªŒ</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…-api-å®ç°æ³¨å†ŒåŠŸèƒ½" class="sidebar-link">å°è£… api å®ç°æ³¨å†ŒåŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ç™»å½•åŠŸèƒ½" class="sidebar-link">ç™»å½•åŠŸèƒ½</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å®ç°ç™»å½•æ ¡éªŒ" class="sidebar-link">å®ç°ç™»å½•æ ¡éªŒ</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç™»å½•å‰çš„é¢„æ ¡éªŒ-ç™»å½•æˆåŠŸ" class="sidebar-link">ç™»å½•å‰çš„é¢„æ ¡éªŒ &amp; ç™»å½•æˆåŠŸ</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#åŸºæœ¬æ¶å­æ‹†è§£" class="sidebar-link">åŸºæœ¬æ¶å­æ‹†è§£</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ç™»å½•è®¿é—®æ‹¦æˆª" class="sidebar-link">ç™»å½•è®¿é—®æ‹¦æˆª</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–-æ¸²æŸ“" class="sidebar-link">ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–&amp;æ¸²æŸ“</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#é€€å‡ºåŠŸèƒ½-element-plus-ç¡®è®¤æ¡†" class="sidebar-link">é€€å‡ºåŠŸèƒ½ [element-plus ç¡®è®¤æ¡†]</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#åŸºæœ¬æ¶å­-pagecontainer" class="sidebar-link">åŸºæœ¬æ¶å­ - PageContainer</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« åˆ†ç±»æ¸²æŸ“" class="sidebar-link">æ–‡ç« åˆ†ç±»æ¸²æŸ“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…api-è¯·æ±‚è·å–è¡¨æ ¼æ•°æ®" class="sidebar-link">å°è£…API - è¯·æ±‚è·å–è¡¨æ ¼æ•°æ®</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#el-table-è¡¨æ ¼åŠ¨æ€æ¸²æŸ“" class="sidebar-link">el-table è¡¨æ ¼åŠ¨æ€æ¸²æŸ“</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#el-table-è¡¨æ ¼-loading-æ•ˆæœ" class="sidebar-link">el-table è¡¨æ ¼ loading æ•ˆæœ</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« åˆ†ç±»æ·»åŠ ç¼–è¾‘-element-plus-å¼¹å±‚" class="sidebar-link">æ–‡ç« åˆ†ç±»æ·»åŠ ç¼–è¾‘ [element-plus å¼¹å±‚]</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚" class="sidebar-link">ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…å¼¹å±‚ç»„ä»¶-channeledit" class="sidebar-link">å°è£…å¼¹å±‚ç»„ä»¶ ChannelEdit</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å‡†å¤‡å¼¹å±‚è¡¨å•" class="sidebar-link">å‡†å¤‡å¼¹å±‚è¡¨å•</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç¡®è®¤æäº¤" class="sidebar-link">ç¡®è®¤æäº¤</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« åˆ†ç±»åˆ é™¤" class="sidebar-link">æ–‡ç« åˆ†ç±»åˆ é™¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« åˆ—è¡¨æ¸²æŸ“" class="sidebar-link">æ–‡ç« åˆ—è¡¨æ¸²æŸ“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#åŸºæœ¬æ¶å­æ­å»º" class="sidebar-link">åŸºæœ¬æ¶å­æ­å»º</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ä¸­è‹±å›½é™…åŒ–å¤„ç†" class="sidebar-link">ä¸­è‹±å›½é™…åŒ–å¤„ç†</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ–‡ç« åˆ†ç±»é€‰æ‹©" class="sidebar-link">æ–‡ç« åˆ†ç±»é€‰æ‹©</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…-api-æ¥å£-è¯·æ±‚æ¸²æŸ“" class="sidebar-link">å°è£… API æ¥å£ï¼Œè¯·æ±‚æ¸²æŸ“</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#åˆ†é¡µæ¸²æŸ“-element-plus-åˆ†é¡µ" class="sidebar-link">åˆ†é¡µæ¸²æŸ“ [element-plus åˆ†é¡µ]</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ·»åŠ -loading-å¤„ç†" class="sidebar-link">æ·»åŠ  loading å¤„ç†</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æœç´¢-å’Œ-é‡ç½®åŠŸèƒ½" class="sidebar-link">æœç´¢ å’Œ é‡ç½®åŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« å‘å¸ƒ-ä¿®æ”¹-element-plus-æŠ½å±‰" class="sidebar-link">æ–‡ç« å‘å¸ƒ&amp;ä¿®æ”¹ [element-plus - æŠ½å±‰]</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç‚¹å‡»æ˜¾ç¤ºæŠ½å±‰" class="sidebar-link">ç‚¹å‡»æ˜¾ç¤ºæŠ½å±‰</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…æŠ½å±‰ç»„ä»¶-articleedit" class="sidebar-link">å°è£…æŠ½å±‰ç»„ä»¶ ArticleEdit</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å®Œå–„æŠ½å±‰è¡¨å•ç»“æ„" class="sidebar-link">å®Œå–„æŠ½å±‰è¡¨å•ç»“æ„</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ä¸Šä¼ æ–‡ä»¶-element-plus-æ–‡ä»¶é¢„è§ˆ" class="sidebar-link">ä¸Šä¼ æ–‡ä»¶ [element-plus - æ–‡ä»¶é¢„è§ˆ]</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨-vue-quill" class="sidebar-link">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ [ vue-quill ]</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ·»åŠ æ–‡ç« åŠŸèƒ½" class="sidebar-link">æ·»åŠ æ–‡ç« åŠŸèƒ½</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ·»åŠ å®Œæˆåçš„å†…å®¹é‡ç½®" class="sidebar-link">æ·»åŠ å®Œæˆåçš„å†…å®¹é‡ç½®</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç¼–è¾‘æ–‡ç« å›æ˜¾" class="sidebar-link">ç¼–è¾‘æ–‡ç« å›æ˜¾</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ç¼–è¾‘æ–‡ç« åŠŸèƒ½" class="sidebar-link">ç¼–è¾‘æ–‡ç« åŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#æ–‡ç« åˆ é™¤" class="sidebar-link">æ–‡ç« åˆ é™¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ai-çš„è®¤çŸ¥-è®²è§£å†…å®¹è¯´æ˜" class="sidebar-link">AI çš„è®¤çŸ¥ &amp; è®²è§£å†…å®¹è¯´æ˜</a></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#chatgpt-çš„åŸºæœ¬ä½¿ç”¨-prompt-ä¼˜åŒ–" class="sidebar-link">ChatGPT çš„åŸºæœ¬ä½¿ç”¨ - Prompt ä¼˜åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#æ¡ˆä¾‹-å‰ç«¯ç®€å†" class="sidebar-link">æ¡ˆä¾‹ - å‰ç«¯ç®€å†</a></li><li class="sidebar-sub-header level4"><a href="/pages/ae7e5c/#prompt-ä¼˜åŒ–å‰" class="sidebar-link">Prompt ä¼˜åŒ–å‰ï¼š</a></li><li class="sidebar-sub-header level4"><a href="/pages/ae7e5c/#prompt-ä¼˜åŒ–å" class="sidebar-link">Prompt ä¼˜åŒ–åï¼š</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#å·¥å…·-github-copilot-æ™ºèƒ½ç”Ÿæˆä»£ç çš„ä½¿ç”¨" class="sidebar-link">å·¥å…· Github Copilot æ™ºèƒ½ç”Ÿæˆä»£ç çš„ä½¿ç”¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å®‰è£…æ­¥éª¤" class="sidebar-link">å®‰è£…æ­¥éª¤</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ä½¿ç”¨è¯´æ˜" class="sidebar-link">ä½¿ç”¨è¯´æ˜</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-åŸºæœ¬èµ„æ–™" class="sidebar-link">ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - åŸºæœ¬èµ„æ–™</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#é™æ€ç»“æ„-æ ¡éªŒå¤„ç†" class="sidebar-link">é™æ€ç»“æ„ + æ ¡éªŒå¤„ç†</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…æ¥å£-æ›´æ–°ä¸ªäººä¿¡æ¯" class="sidebar-link">å°è£…æ¥å£ï¼Œæ›´æ–°ä¸ªäººä¿¡æ¯</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-æ›´æ¢å¤´åƒ" class="sidebar-link">ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - æ›´æ¢å¤´åƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#é™æ€ç»“æ„" class="sidebar-link">é™æ€ç»“æ„</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#é€‰æ‹©é¢„è§ˆå›¾ç‰‡" class="sidebar-link">é€‰æ‹©é¢„è§ˆå›¾ç‰‡</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#ä¸Šä¼ å¤´åƒ" class="sidebar-link">ä¸Šä¼ å¤´åƒ</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ae7e5c/#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-é‡ç½®å¯†ç " class="sidebar-link">ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - é‡ç½®å¯†ç </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#é™æ€ç»“æ„-æ ¡éªŒå¤„ç†-2" class="sidebar-link">é™æ€ç»“æ„ + æ ¡éªŒå¤„ç†</a></li><li class="sidebar-sub-header level3"><a href="/pages/ae7e5c/#å°è£…æ¥å£-æ›´æ–°å¯†ç ä¿¡æ¯" class="sidebar-link">å°è£…æ¥å£ï¼Œæ›´æ–°å¯†ç ä¿¡æ¯</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/code/#ç¼–ç¨‹" data-v-06225672>ç¼–ç¨‹</a></li><li data-v-06225672><a href="/code/#å°ç¨‹åº" data-v-06225672>å°ç¨‹åº</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/lumengde123" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>lumengde</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-06-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">é»‘é©¬å¤§äº‹ä»¶åå°ç®¡ç† Vue3<!----></h1>  <div class="theme-vdoing-content content__default"><p><img src="/media/ae7e5c/image-20230706211033589.png" alt="image"></p> <div class="custom-block tip"><p class="custom-block-title">æç¤º</p> <p>è¯¥é¡¹ç›®æ˜¯PCç«¯çš„åå°æ–‡ç« ç®¡ç†é¡¹ç›®ï¼Œç”¨åˆ°çš„æŠ€æœ¯æ ˆæ˜¯ï¼š<strong>Vue3 + Vue Router + Pinia + Axios + Element Plus + Scss + ES6 + Git</strong>ï¼Œè§†é¢‘é“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1ie411f7e6/" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1ie411f7e6/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h1 id="åå°æ•°æ®ç®¡ç†ç³»ç»Ÿ-é¡¹ç›®æ¶æ„è®¾è®¡"><a href="#åå°æ•°æ®ç®¡ç†ç³»ç»Ÿ-é¡¹ç›®æ¶æ„è®¾è®¡" class="header-anchor">#</a> åå°æ•°æ®ç®¡ç†ç³»ç»Ÿ - é¡¹ç›®æ¶æ„è®¾è®¡</h1> <p>åœ¨çº¿æ¼”ç¤ºï¼šhttps://fe-bigevent-web.itheima.net/login</p> <p>æ¥å£æ–‡æ¡£:   https://apifox.com/apidoc/shared-26c67aee-0233-4d23-aab7-08448fdf95ff/api-93850835</p> <p><strong>æ¥å£æ ¹è·¯å¾„ï¼š</strong>  http://big-event-vue-api-t.itheima.net</p> <p>æœ¬é¡¹ç›®çš„æŠ€æœ¯æ ˆ æœ¬é¡¹ç›®æŠ€æœ¯æ ˆåŸºäº <a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ES6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://cn.vuejs.org/index.html" target="_blank" rel="noopener noreferrer">vue3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://pinia.web3doc.top/" target="_blank" rel="noopener noreferrer">pinia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://router.vuejs.org/" target="_blank" rel="noopener noreferrer">vue-router<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ã€vite ã€axios å’Œ <a href="https://element-plus.org/" target="_blank" rel="noopener noreferrer">element-plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/media/ae7e5c/image-20230711003405635.png" alt="image-20230711003405635"></p> <h2 id="é¡¹ç›®é¡µé¢ä»‹ç»"><a href="#é¡¹ç›®é¡µé¢ä»‹ç»" class="header-anchor">#</a> é¡¹ç›®é¡µé¢ä»‹ç»</h2> <p><img src="/media/ae7e5c/image-20230706205300370.png" alt="image-20230706205300370"></p> <p><img src="/media/ae7e5c/image-20230706210947086.png" alt="image-20230706210947086"></p> <p><img src="/media/ae7e5c/image-20230706211055251.png" alt="image-20230706211055251"></p> <p><img src="/media/ae7e5c/image-20230706211033589.png" alt="image-20230706211033589"></p> <h2 id="pnpm-åŒ…ç®¡ç†å™¨-åˆ›å»ºé¡¹ç›®"><a href="#pnpm-åŒ…ç®¡ç†å™¨-åˆ›å»ºé¡¹ç›®" class="header-anchor">#</a> pnpm åŒ…ç®¡ç†å™¨ - åˆ›å»ºé¡¹ç›®</h2> <blockquote><p>**pnpm **æ¯”åŒç±»å·¥å…·æ›´å¿«ä¸”æ›´èŠ‚çœç£ç›˜ç©ºé—´ï¼Œä¸€èˆ¬æ¥è¯´ pnpm &gt; yarn &gt; npmï¼Œå®˜æ–¹æ–‡æ¡£ï¼š https://www.pnpm.cn/</p></blockquote> <p>å®‰è£…æ–¹å¼ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install -g pnpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åˆ›å»ºé¡¹ç›®ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pnpm create vue
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
Project name:Vue3-big-event-admin
Package name:vue3-big-event-admin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/media/ae7e5c/image-20241205232735913.png" alt="image-20241205232735913"></p> <p><img src="/media/ae7e5c/image-20230710172832242.png" alt="image-20230710172832242"></p> <h2 id="eslint-prettier-é…ç½®ä»£ç é£æ ¼"><a href="#eslint-prettier-é…ç½®ä»£ç é£æ ¼" class="header-anchor">#</a> ESLint &amp; prettier é…ç½®ä»£ç é£æ ¼</h2> <blockquote><p>ESLint æ˜¯ä¸€ä¸ªé™æ€ä»£ç åˆ†æå·¥å…·ï¼Œå¯ä»¥æ£€æŸ¥å’Œä¿®å¤ä»£ç ä¸­çš„é—®é¢˜ï¼›</p> <p>prettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥å°†ä»£ç æ ¼å¼åŒ–ä¸ºä¸€è‡´çš„é£æ ¼ï¼Œä¾‹å¦‚ï¼šè‡ªåŠ¨ç¼©è¿›å’Œæ¢è¡Œã€é™åˆ¶ä½¿ç”¨å•å¼•å·å’Œä¸ä½¿ç”¨åˆ†å·ç­‰ç­‰</p></blockquote> <p><strong>ä¸€ã€é¡¹ç›®ç¯å¢ƒåŒæ­¥ï¼š</strong></p> <p>1.å¼€å¯VSCode <strong>ä¿å­˜åè‡ªåŠ¨ä¿®å¤ä»£ç </strong>ï¼ˆå³ä¸€æ—¦ä¿å­˜ä»£ç å°±è‡ªåŠ¨è§¦å‘ ESLint æ£€æŸ¥å¹¶ä¿®å¤æŸäº›å¯ä»¥è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼‰</p> <p>2.å…³é—­VSCode <strong>ä¿å­˜åè‡ªåŠ¨æ ¼å¼åŒ–</strong></p> <p><strong>å®‰è£…VSCodeæ’ä»¶ - ESlintï¼Œæ‰“å¼€ VSCode çš„ settings.jsonæ·»åŠ ä»¥ä¸‹é…ç½®ä»£ç </strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ESlintæ’ä»¶ + Vscodeé…ç½® å®ç°è‡ªåŠ¨æ ¼å¼åŒ–ä¿®å¤</span>
  <span class="token comment">// å¼€å¯ VSCode ä¿å­˜å è‡ªåŠ¨ä¿®å¤</span>
  <span class="token string-property property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;source.fixAll&quot;</span><span class="token operator">:</span> <span class="token string">&quot;explicit&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;explicit&quot;</span> <span class="token comment">// ç¡®ä¿ ESLint çš„ä¿®å¤åŠŸèƒ½å¯ç”¨</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;editor.formatOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ VSCode é»˜è®¤æ ¼å¼åŒ–</span>
  <span class="token string-property property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ Prettier æ ¼å¼åŒ–</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦‚æœ VSCode å®‰è£…äº†<strong>Prettieræ’ä»¶ï¼Œéœ€è¦ç¦ç”¨</strong>ï¼ˆå®ƒä¹Ÿæœ‰ä¿å­˜åè‡ªåŠ¨æ ¼å¼åŒ–åŠŸèƒ½ï¼‰</p> <p><strong>äºŒã€é…ç½®æ–‡ä»¶ eslint.config.jså’Œ.prettier.json</strong></p> <blockquote><p>è¿™é‡Œæ˜¯åœ¨ ESLint é…ç½®ä¸­å¼•å…¥ Prettier çš„è‡ªåŠ¨æ ¼å¼åŒ–çš„è‡ªå®šä¹‰é…ç½®ï¼Œè¿™æ ·æ¯æ¬¡ä¿å­˜åESLintè‡ªåŠ¨ä¿®å¤ä»£ç çš„åŒæ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œè‡ªå®šä¹‰é£æ ¼çš„è‡ªåŠ¨æ ¼å¼åŒ–(åœ¨pnpm create vueçš„æ—¶å€™å°±å¼•å…¥äº†Prettier)</p> <p>é€šè¿‡è¿™æ ·ï¼Œæ ¼å¼åŒ–å’Œæ£€æŸ¥è§„åˆ™éƒ½åœ¨ ESLint ä¸­æ‰§è¡Œï¼Œé¿å…äº† Prettier å’Œ ESLint åœ¨è‡ªåŠ¨æ ¼å¼åŒ–æ–¹é¢çš„å†²çªã€‚</p></blockquote> <ol><li><p>prettier é£æ ¼é…ç½® <a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener noreferrer">https://prettier.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li><p>å•å¼•å·</p></li> <li><p>ä¸ä½¿ç”¨åˆ†å·</p></li> <li><p>æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦</p></li> <li><p>ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·</p></li> <li><p>æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰</p></li></ol></li> <li><p>vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰</p></li> <li><p>propsè§£æ„ï¼ˆå…³é—­ï¼‰</p></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// eslint.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'eslint'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> js <span class="token keyword">from</span> <span class="token string">'@eslint/js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> pluginVue <span class="token keyword">from</span> <span class="token string">'eslint-plugin-vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> eslintConfigPrettier <span class="token keyword">from</span> <span class="token string">'eslint-config-prettier'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'app/files-to-lint'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*.{js,mjs,jsx,vue}'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'app/files-to-ignore'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ignores</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/dist/**'</span><span class="token punctuation">,</span> <span class="token string">'**/dist-ssr/**'</span><span class="token punctuation">,</span> <span class="token string">'**/coverage/**'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  js<span class="token punctuation">.</span>configs<span class="token punctuation">.</span>recommended<span class="token punctuation">,</span>
  <span class="token operator">...</span>pluginVue<span class="token punctuation">.</span>configs<span class="token punctuation">[</span><span class="token string">'flat/essential'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'plugin:prettier/recommended'</span><span class="token punctuation">,</span> <span class="token comment">// å¯ç”¨ Prettier çš„è§„åˆ™</span>
  eslintConfigPrettier<span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ Prettier é…ç½®æ¥å…³é—­ä¸æ ¼å¼åŒ–ç›¸å…³çš„å†²çªè§„åˆ™</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'prettier/prettier'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ ESLint è§„åˆ™æ¥æŠ¥é”™/è­¦å‘Š Prettier æ ¼å¼åŒ–é—®é¢˜</span>
      <span class="token string-property property">'vue/multi-word-component-names'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'warn'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">ignores</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// vue ç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥ index.vueï¼‰</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">'vue/no-setup-props-destructure'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'off'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å…³é—­ props è§£æ„çš„æ ¡éªŒ</span>
      <span class="token string-property property">'no-undef'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token comment">// ğŸ’¡ æ·»åŠ æœªå®šä¹‰å˜é‡é”™è¯¯æç¤º</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>å®‰è£…æ’ä»¶ï¼Œä½¿ ESlint èƒ½è°ƒç”¨ Prettier è§„åˆ™</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pnpm add eslint-plugin-prettier eslint-config-prettier -D 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// .prettierrc.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;$schema&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://json.schemastore.org/prettierrc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;endOfLine&quot;</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ–°ç‰ˆ ESLint é…ç½®æ–‡ä»¶æ˜¯<code>eslint.config.js</code>ï¼Œæ‰€ä»¥é…ç½®æ ¼å¼å’ŒåŸæ•™ç¨‹çš„<code>.eslintrc.cjs</code>æœ‰ç‚¹ä¸åŒ</p> <blockquote><p>å¦‚æœè§£å†³ä¸äº†å°±æš‚æ—¶ä¸ç®¡è¿™éƒ¨åˆ†ï¼Œä¸å½±å“åç»­å¼€å‘ã€‚æˆ–è€…ç›´æ¥æŠŠåŸé¡¹ç›®copyä¸ªç©ºå£³è¿‡æ¥ç»§ç»­å¼€å‘</p></blockquote> <h2 id="åŸºäº-husky-çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ"><a href="#åŸºäº-husky-çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ" class="header-anchor">#</a> åŸºäº husky  çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ</h2> <p>husky æ˜¯ä¸€ä¸ª git hooks å·¥å…·  ( gitçš„é’©å­å·¥å…·ï¼Œå¯ä»¥åœ¨ç‰¹å®šæ—¶æœºæ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦åœ¨<strong>commit</strong>çš„æ—¶å€™æ‰§è¡Œä¸€ä¸‹<code>pnpm lint</code> æ£€æŸ¥ä»£ç è§„èŒƒ)</p> <p><strong>ä¸€ã€husky é…ç½®</strong></p> <ol><li>gitåˆå§‹åŒ–</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>git init
git branch -m master main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>åˆå§‹åŒ– husky å·¥å…·é…ç½®  https://typicode.github.io/husky/</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm dlx husky<span class="token operator">-</span>init <span class="token operator">&amp;&amp;</span> pnpm install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>ä¿®æ”¹ .husky/pre-commit æ–‡ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm lint
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ç„¶åæäº¤ä»£ç ï¼Œhuskyä¼šåœ¨commitçš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œä¸€ä¸‹<code>pnpm lint</code>æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰é”™è¯¯ï¼Œæœ‰å°±æŠ¥é”™</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add .
git commit -m 'test'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>å‘ç°é—®é¢˜ï¼š<strong>lint é»˜è®¤è¿›è¡Œçš„æ˜¯å…¨é‡æ£€æŸ¥ï¼Œå³æ¯æ¬¡</strong>commit</strong>éƒ½ä¼šæ£€æŸ¥ä¸€æ¬¡<code>src</code>æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸ä»…è€—æ—¶ï¼Œå¯¹äºå†å²é—ç•™é”™è¯¯ä¹Ÿä¼šæŠ¥é”™</p> <p>**è§£å†³é—®é¢˜ï¼š**å®‰è£… <strong>lint-staged</strong>ï¼Œåªä¼šå¯¹å½“å‰gitä»“åº“çš„æš‚å­˜åŒºè¿›è¡Œæ£€æŸ¥ï¼Œæš‚å­˜åŒºå­˜æ”¾æœ‰ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå³åªæ£€æŸ¥é¡¹ç›®ä¸­ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œä¸ä¼šè¿›è¡Œæ•´ä¸ªé¡¹ç›®çš„æ£€æŸ¥</p> <p><strong>äºŒã€lint-staged é…ç½®</strong></p> <ol><li>å®‰è£…</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm i lint<span class="token operator">-</span>staged <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>é…ç½® <code>package.json</code></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  <span class="token comment">// ... çœç•¥ ...</span>
  <span class="token string-property property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;*.{js,ts,vue}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint --fix&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... çœç•¥ ...</span>
    <span class="token string-property property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// å‰è€…æ”¾ç¬¬ä¸€çº§{}å†…ï¼Œåè€…æ·»åŠ åˆ°scriptsé…ç½®å†…</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="3"><li>ä¿®æ”¹ .husky/pre-commit æ–‡ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm lint<span class="token operator">-</span>staged
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æ­¤æ—¶å†commitå¯ä»¥æŸ¥çœ‹æ•ˆæœ</p> <blockquote><p>é€šè¿‡ä»¥ä¸Šä¸¤å°èŠ‚é…ç½®ï¼Œæ¯æ¬¡ä¿å­˜ä»£ç æ—¶ESLintéƒ½ä¼šè¿›è¡Œä»£ç ä¿®å¤å’Œè‡ªåŠ¨æ ¼å¼åŒ–ï¼›æ¯æ¬¡ commit æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨å¯¹git æš‚å­˜åŒºçš„ä¿®æ”¹è¿›è¡Œé”™è¯¯æ£€æŸ¥</p> <p>è¿™æ ·ï¼Œå¯ä»¥ä¿è¯é¡¹ç›®ä¸­ç¼–å†™çš„ä»£ç å°†ä¼šæ˜¯éå¸¸è§„èŒƒçš„</p></blockquote> <h2 id="è°ƒæ•´é¡¹ç›®ç›®å½•"><a href="#è°ƒæ•´é¡¹ç›®ç›®å½•" class="header-anchor">#</a> è°ƒæ•´é¡¹ç›®ç›®å½•</h2> <p>é»˜è®¤ç”Ÿæˆçš„ç›®å½•ç»“æ„ä¸æ»¡è¶³æˆ‘ä»¬çš„å¼€å‘éœ€æ±‚ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åšä¸€äº›è‡ªå®šä¹‰æ”¹åŠ¨ã€‚ä¸»è¦æ˜¯ä¸¤ä¸ªå·¥ä½œï¼š</p> <ul><li>åˆ é™¤åˆå§‹åŒ–çš„é»˜è®¤æ–‡ä»¶</li> <li>ä¿®æ”¹å‰©ä½™ä»£ç å†…å®¹</li> <li>æ–°å¢è°ƒæ•´æˆ‘ä»¬éœ€è¦çš„ç›®å½•ç»“æ„</li> <li>æ‹·è´åˆå§‹åŒ–èµ„æºæ–‡ä»¶ï¼Œå®‰è£…é¢„å¤„ç†å™¨æ’ä»¶</li></ul> <ol><li><p>åˆ é™¤æ–‡ä»¶</p> <ul><li><code>@/assets/</code>å†…çš„æ–‡ä»¶</li> <li><code>@/components/</code>å†…çš„æ–‡ä»¶</li> <li><code>@/views/</code>å†…çš„æ–‡ä»¶</li> <li><code>@/stores/</code>å†…çš„æ–‡ä»¶</li></ul></li> <li><p>ä¿®æ”¹å†…å®¹</p></li></ol> <p><code>src/router/index.js</code></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>src/App.vue</code></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>src/main.js</code></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="3"><li>æ–°å¢éœ€è¦ç›®å½• api  utils</li></ol> <p><img src="/media/ae7e5c/image-20230710215822678.png" alt="image-20230710215822678"></p> <ol start="4"><li>å°†é¡¹ç›®éœ€è¦çš„å…¨å±€æ ·å¼ å’Œ å›¾ç‰‡æ–‡ä»¶ï¼Œå¤åˆ¶åˆ° assets æ–‡ä»¶å¤¹ä¸­,  å¹¶å°†å…¨å±€æ ·å¼åœ¨main.jsä¸­å¼•å…¥</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">'@/assets/main.scss'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å®‰è£… sass ä¾èµ–</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm add sass <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="vuerouter4-è·¯ç”±ä»£ç è§£æ"><a href="#vuerouter4-è·¯ç”±ä»£ç è§£æ" class="header-anchor">#</a> VueRouter4 è·¯ç”±ä»£ç è§£æ</h2> <p>åŸºç¡€ä»£ç è§£æ</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// createRouter åˆ›å»ºè·¯ç”±å®ä¾‹ï¼Œ===&gt; new VueRouter()</span>
<span class="token comment">// 1. historyæ¨¡å¼: createWebHistory()   http://xxx/user</span>
<span class="token comment">// 2. hashæ¨¡å¼: createWebHashHistory()  http://xxx/#/user</span>

<span class="token comment">// vite çš„é…ç½® import.meta.env.BASE_URL æ˜¯è·¯ç”±çš„åŸºå‡†åœ°å€ï¼Œé»˜è®¤æ˜¯ â€™/â€˜</span>
<span class="token comment">// æ–‡æ¡£ï¼šhttps://vitejs.dev/guide/build.html#public-base-path</span>

<span class="token comment">// å¦‚æœå°†æ¥ä½ éƒ¨ç½²çš„åŸŸåè·¯å¾„æ˜¯ï¼šhttp://xxx/my-path/user</span>
<span class="token comment">// vite.config.ts  æ·»åŠ é…ç½®  base: my-pathï¼Œè·¯ç”±è¿™å°±ä¼šåŠ ä¸Š my-path å‰ç¼€äº†</span>
<span class="token comment">// å³æ‰€æœ‰çš„é™æ€èµ„æºå’Œè·¯ç”±è·¯å¾„éƒ½ä»¥ /my-path/ ä¸ºå‰ç¼€</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>import.meta.env.BASE_URL æ˜¯Vite ç¯å¢ƒå˜é‡ï¼š<a href="https://cn.vitejs.dev/guide/env-and-mode.html" target="_blank" rel="noopener noreferrer">https://cn.vitejs.dev/guide/env-and-mode.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="å¼•å…¥-element-ui-ç»„ä»¶åº“"><a href="#å¼•å…¥-element-ui-ç»„ä»¶åº“" class="header-anchor">#</a> å¼•å…¥ element-ui ç»„ä»¶åº“</h2> <p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong> https://element-plus.org/zh-CN/</p> <ul><li>å®‰è£…</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>$ pnpm add element<span class="token operator">-</span>plus
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>è‡ªåŠ¨æŒ‰éœ€ï¼š</strong></p> <ol><li>å®‰è£…æ’ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm add <span class="token operator">-</span><span class="token constant">D</span> unplugin<span class="token operator">-</span>vue<span class="token operator">-</span>components unplugin<span class="token operator">-</span>auto<span class="token operator">-</span><span class="token keyword">import</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ç„¶åæŠŠä¸‹åˆ—ä»£ç æ’å…¥åˆ°ä½ çš„ <code>Vite</code> æˆ– <code>Webpack</code> çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä»£ç å¯ä»¥ä»å®˜æ–¹æ–‡æ¡£é‡ŒCopy</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">...</span>
<span class="token keyword">import</span> AutoImport <span class="token keyword">from</span> <span class="token string">'unplugin-auto-import/vite'</span>
<span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">'unplugin-vue-components/vite'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementPlusResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'unplugin-vue-components/resolvers'</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>
    <span class="token function">AutoImport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="3"><li>ç›´æ¥ä½¿ç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Primary</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Success</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Info</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Warning</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Danger</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    ...
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="/media/ae7e5c/image-20230710225018162.png" alt="image-20230710225018162"></p> <p>**å½©è›‹ï¼š**é»˜è®¤ components ä¸‹çš„æ–‡ä»¶ä¹Ÿä¼šè¢«è‡ªåŠ¨æ³¨å†Œ~</p> <blockquote><p>element-plus çš„æŒ‰éœ€å¯¼å…¥æ˜¯è‡ªåŠ¨çš„ï¼Œæƒ³ç”¨ä»€ä¹ˆç›´æ¥ç”¨å°±è¡Œï¼›å¹¶ä¸”åœ¨<code>@/components/</code>é‡Œé¢çš„ç»„ä»¶ä¹Ÿä¼šè¢«è‡ªåŠ¨æ³¨å†Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨</p> <p>ä»…é’ˆå¯¹.vueæ–‡ä»¶ï¼›åœ¨.jsæ–‡ä»¶ä¸­è¿˜æ˜¯éœ€è¦æ‰‹åŠ¨å¯¼å…¥çš„</p> <p>å¦‚æœåç»­ElMessageä¸æ˜¾ç¤ºï¼Œå¯ä»¥å†main.jsé‡Œé¢åŠ ä¸Šï¼šimport 'element-plus/dist/index.css'</p></blockquote> <h2 id="pinia-æ„å»ºç”¨æˆ·ä»“åº“-å’Œ-æŒä¹…åŒ–"><a href="#pinia-æ„å»ºç”¨æˆ·ä»“åº“-å’Œ-æŒä¹…åŒ–" class="header-anchor">#</a> Pinia - æ„å»ºç”¨æˆ·ä»“åº“ å’Œ æŒä¹…åŒ–</h2> <p>å®˜æ–¹æ–‡æ¡£ï¼šhttps://prazdevs.github.io/pinia-plugin-persistedstate/zh/</p> <ol><li>å®‰è£…æ’ä»¶ pinia-plugin-persistedstate</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm add pinia<span class="token operator">-</span>plugin<span class="token operator">-</span>persistedstate <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ä½¿ç”¨ main.js</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> persist <span class="token keyword">from</span> <span class="token string">'pinia-plugin-persistedstate'</span>
<span class="token operator">...</span>
<span class="token comment">// å°†app.use(createPinia())æ”¹ä¸ºï¼š</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>persist<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>é…ç½® stores/modules/user.js</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// ç”¨æˆ·æ¨¡å—</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useUserStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>
  <span class="token string">'big-user'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// å®šä¹‰ token</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span>value <span class="token operator">=</span> t<span class="token punctuation">)</span> <span class="token comment">// è®¾ç½® token</span>
    <span class="token keyword">const</span> <span class="token function-variable function">removeToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// æ¸…ç©º token</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> token<span class="token punctuation">,</span> setToken<span class="token punctuation">,</span> removeToken <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">persist</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// æŒä¹…åŒ–</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="pinia-é…ç½®ä»“åº“ç»Ÿä¸€ç®¡ç†"><a href="#pinia-é…ç½®ä»“åº“ç»Ÿä¸€ç®¡ç†" class="header-anchor">#</a> Pinia - é…ç½®ä»“åº“ç»Ÿä¸€ç®¡ç†</h2> <p>pinia ç‹¬ç«‹ç»´æŠ¤</p> <p>- ç°åœ¨ï¼šåˆå§‹åŒ–ä»£ç åœ¨ main.js ä¸­ï¼Œä»“åº“ä»£ç åœ¨ stores ä¸­ï¼Œä»£ç åˆ†æ•£  èŒèƒ½ä¸å•ä¸€</p> <p>- ä¼˜åŒ–ï¼šç”± stores ç»Ÿä¸€ç»´æŠ¤ï¼Œåœ¨ stores/index.js ä¸­å®Œæˆ pinia åˆå§‹åŒ–ï¼Œäº¤ä»˜ main.js ä½¿ç”¨</p> <p>ä»“åº“ ç»Ÿä¸€å¯¼å‡º</p> <p>- ç°åœ¨ï¼šä½¿ç”¨ä¸€ä¸ªä»“åº“ import { useUserStore } from <code>./stores/user.js</code> ä¸åŒä»“åº“è·¯å¾„ä¸ä¸€è‡´</p> <p>- ä¼˜åŒ–ï¼šç”± stores/index.js ç»Ÿä¸€å¯¼å‡ºï¼Œå¯¼å…¥è·¯å¾„ç»Ÿä¸€ <code>./stores</code>ï¼Œè€Œä¸”ä»“åº“ç»´æŠ¤åœ¨ stores/modules ä¸­</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> pinia <span class="token keyword">from</span> <span class="token string">'@/stores/index'</span>
<span class="token operator">...</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// @/stores/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> persist <span class="token keyword">from</span> <span class="token string">'pinia-plugin-persistedstate'</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pinia<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>persist<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> pinia
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./modules/user'</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./modules/counter'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>stores/</code>ä¸­çš„<code>user</code>ã€<code>counter</code>ç­‰ç­‰ï¼Œéƒ½æ”¾åœ¨<code>modules/</code>æ–‡ä»¶å¤¹ä¸‹å³å¯</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>è¿™é‡Œçš„
export <span class="token italic"><span class="token punctuation">*</span><span class="token content"> from './modules/user'
export </span><span class="token punctuation">*</span></span> from './modules/counter'
ç­‰æ•ˆäº
import { useUserStore } from './modules/user'
export { useUserStore }
import { useCountStore } from './modules/counter'
export { useCountStore }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Vueç»„ä»¶</strong>åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦<code>import { useCountStore, useUserStore } from '@/stores'</code>å°±å¯ä»¥äº†ï¼Œå¾ˆç®€æ´æ–¹ä¾¿</p> <h2 id="æ•°æ®äº¤äº’-è¯·æ±‚å·¥å…·è®¾è®¡"><a href="#æ•°æ®äº¤äº’-è¯·æ±‚å·¥å…·è®¾è®¡" class="header-anchor">#</a> æ•°æ®äº¤äº’ - è¯·æ±‚å·¥å…·è®¾è®¡</h2> <p><img src="/media/ae7e5c/image-20230711071913061.png" alt="image-20230711071913061"></p> <h3 id="_1-åˆ›å»º-axios-å®ä¾‹"><a href="#_1-åˆ›å»º-axios-å®ä¾‹" class="header-anchor">#</a> 1. åˆ›å»º axios å®ä¾‹</h3> <p>æˆ‘ä»¬ä¼šä½¿ç”¨ axios æ¥è¯·æ±‚åç«¯æ¥å£, ä¸€èˆ¬éƒ½ä¼šå¯¹ axios è¿›è¡Œä¸€äº›é…ç½® (æ¯”å¦‚: é…ç½®åŸºç¡€åœ°å€ç­‰)</p> <p>ä¸€èˆ¬é¡¹ç›®å¼€å‘ä¸­, éƒ½ä¼šå¯¹ axios è¿›è¡ŒåŸºæœ¬çš„äºŒæ¬¡å°è£…, å•ç‹¬å°è£…åˆ°ä¸€ä¸ªæ¨¡å—ä¸­, ä¾¿äºä½¿ç”¨</p> <ol><li>å®‰è£… axios</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pnpm add axios
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><p>æ–°å»º <code>utils/request.js</code> å°è£… axios æ¨¡å—</p> <p>å®˜æ–¹æ–‡æ¡£ï¼šhttp://www.axios-js.com/zh-cn/docs/#axios-create-config</p> <p>ä»å®˜æ–¹æ–‡æ¡£ Copy åˆ›å»ºå®ä¾‹å’Œæ‹¦æˆªå™¨çš„åŸºç¡€è¯­å¥ï¼šåˆ©ç”¨ axios.create åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ axios æ¥ä½¿ç”¨ï¼Œå¹¶æ·»åŠ è¯·æ±‚å’Œå“åº”æ‹¦æˆªå™¨ï¼›ç®€æ´ä¸€ç‚¹å¯ä»¥å†™æˆç®­å¤´å‡½æ•°</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">'http://big-event-vue-api-t.itheima.net'</span>

<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// TODO 1. åŸºç¡€åœ°å€ï¼Œè¶…æ—¶æ—¶é—´</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO 2. æºå¸¦token</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO 3. å¤„ç†ä¸šåŠ¡å¤±è´¥</span>
    <span class="token comment">// TODO 4. æ‘˜å–æ ¸å¿ƒå“åº”æ•°æ®</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO 5. å¤„ç†401é”™è¯¯</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> instance
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="_2-å®Œæˆ-axios-åŸºæœ¬é…ç½®"><a href="#_2-å®Œæˆ-axios-åŸºæœ¬é…ç½®" class="header-anchor">#</a> 2. å®Œæˆ axios åŸºæœ¬é…ç½®</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useUserStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/stores'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>

<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">'http://big-event-vue-api-t.itheima.net'</span>

<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token punctuation">,</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">100000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userStore<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> userStore<span class="token punctuation">.</span>token
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> res
    <span class="token punctuation">}</span>
    <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'æœåŠ¡å¼‚å¸¸'</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> err<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'æœåŠ¡å¼‚å¸¸'</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token operator">?.</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> instance
<span class="token keyword">export</span> <span class="token punctuation">{</span> baseURL <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="é¦–é¡µæ•´ä½“è·¯ç”±è®¾è®¡"><a href="#é¦–é¡µæ•´ä½“è·¯ç”±è®¾è®¡" class="header-anchor">#</a> é¦–é¡µæ•´ä½“è·¯ç”±è®¾è®¡</h2> <p><strong>å®ç°ç›®æ ‡:</strong></p> <ul><li>å®Œæˆæ•´ä½“è·¯ç”±è§„åˆ’ã€ææ¸…æ¥šè¦åšå‡ ä¸ªé¡µé¢ï¼Œå®ƒä»¬åˆ†åˆ«åœ¨å“ªä¸ªè·¯ç”±ä¸‹é¢ï¼Œæ€ä¹ˆè·³è½¬çš„.....ã€‘</li> <li>é€šè¿‡è§‚å¯Ÿ,  ç‚¹å‡»å·¦ä¾§å¯¼èˆª,  å³ä¾§åŒºåŸŸåœ¨åˆ‡æ¢,  é‚£å³ä¾§åŒºåŸŸå†…å®¹ä¸€ç›´åœ¨å˜,  é‚£è¿™ä¸ªåœ°æ–¹å°±æ˜¯ä¸€ä¸ªè·¯ç”±çš„å‡ºå£</li> <li>æˆ‘ä»¬éœ€è¦æ­å»ºåµŒå¥—è·¯ç”±</li></ul> <p>ç›®æ ‡ï¼š</p> <ul><li>æŠŠé¡¹ç›®ä¸­æ‰€æœ‰ç”¨åˆ°çš„ç»„ä»¶åŠè·¯ç”±è¡¨, çº¦å®šä¸‹æ¥</li></ul> <p><strong>çº¦å®šè·¯ç”±è§„åˆ™</strong></p> <table><thead><tr><th>path</th> <th>æ–‡ä»¶</th> <th>åŠŸèƒ½</th> <th>ç»„ä»¶å</th> <th>è·¯ç”±çº§åˆ«</th></tr></thead> <tbody><tr><td>/login</td> <td>views/login/LoginPage.vue</td> <td>ç™»å½•&amp;æ³¨å†Œ</td> <td>LoginPage</td> <td>ä¸€çº§è·¯ç”±</td></tr> <tr><td>/</td> <td>views/layout/LayoutContainer.vue</td> <td>å¸ƒå±€æ¶å­</td> <td>LayoutContainer</td> <td>ä¸€çº§è·¯ç”±</td></tr> <tr><td>â”œâ”€ /article/manage</td> <td>views/article/ArticleManage.vue</td> <td>æ–‡ç« ç®¡ç†</td> <td>ArticleManage</td> <td>äºŒçº§è·¯ç”±</td></tr> <tr><td>â”œâ”€ /article/channel</td> <td>views/article/ArticleChannel.vue</td> <td>é¢‘é“ç®¡ç†</td> <td>ArticleChannel</td> <td>äºŒçº§è·¯ç”±</td></tr> <tr><td>â”œâ”€ /user/profile</td> <td>views/user/UserProfile.vue</td> <td>ä¸ªäººè¯¦æƒ…</td> <td>UserProfile</td> <td>äºŒçº§è·¯ç”±</td></tr> <tr><td>â”œâ”€ /user/avatar</td> <td>views/user/UserAvatar.vue</td> <td>æ›´æ¢å¤´åƒ</td> <td>UserAvatar</td> <td>äºŒçº§è·¯ç”±</td></tr> <tr><td>â”œâ”€ /user/password</td> <td>views/user/UserPassword.vue</td> <td>é‡ç½®å¯†ç </td> <td>UserPassword</td> <td>äºŒçº§è·¯ç”±</td></tr></tbody></table> <p>æ˜ç¡®äº†è·¯ç”±è§„åˆ™ï¼Œå¯ä»¥å…¨éƒ¨é…å®Œï¼Œä¹Ÿå¯ä»¥è¾¹å†™è¾¹é…ã€‚</p> <p>ç„¶åé…ç½®è·¯ç”±routerï¼Œé‡‡ç”¨<strong>è·¯ç”±æ‡’åŠ è½½</strong>ï¼Œå¼‚æ­¥çš„æ–¹å¼åŠ è½½ç»„ä»¶</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// @/router/index.js</span>
<span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/login/LoginPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ç™»å½•é¡µ</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/layout/LayoutContainer.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/article/manage'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/article/manage'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/article/ArticleManage.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/article/channel'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/article/ArticleChannel.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/profile'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/user/UserProfile.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/avatar'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/user/UserAvatar.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/password'</span><span class="token punctuation">,</span>
          <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/user/UserPassword.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h1 id="ç™»å½•æ³¨å†Œé¡µé¢-element-plus-è¡¨å•-è¡¨å•æ ¡éªŒ"><a href="#ç™»å½•æ³¨å†Œé¡µé¢-element-plus-è¡¨å•-è¡¨å•æ ¡éªŒ" class="header-anchor">#</a> ç™»å½•æ³¨å†Œé¡µé¢ [element-plus è¡¨å• &amp; è¡¨å•æ ¡éªŒ]</h1> <h2 id="æ³¨å†Œç™»å½•-é™æ€ç»“æ„-åŸºæœ¬åˆ‡æ¢"><a href="#æ³¨å†Œç™»å½•-é™æ€ç»“æ„-åŸºæœ¬åˆ‡æ¢" class="header-anchor">#</a> æ³¨å†Œç™»å½• é™æ€ç»“æ„ &amp; åŸºæœ¬åˆ‡æ¢</h2> <ol><li>å®‰è£… element-plus å›¾æ ‡åº“</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>pnpm i @element<span class="token operator">-</span>plus<span class="token operator">/</span>icons<span class="token operator">-</span>vue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>é™æ€ç»“æ„å‡†å¤‡</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { User, Lock } from '@element-plus/icons-vue'
import { ref } from 'vue'
const isRegister = ref(true)
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isRegister<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ³¨å†Œ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
            <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lock<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
            <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lock<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å†æ¬¡å¯†ç <span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-insert-space</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            æ³¨å†Œ
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = false&quot;&gt;
            â† è¿”å›
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lock<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è®°ä½æˆ‘</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:underline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¿˜è®°å¯†ç ï¼Ÿ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-insert-space</span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span>
          <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          &lt;el-link type=&quot;info&quot; :underline=&quot;false&quot; @click=&quot;isRegister = true&quot;&gt;
            æ³¨å†Œ â†’
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
.login-page {
  height: 100vh;
  background-color: #fff;
  .bg {
    background: url('@/assets/logo2.png') no-repeat 60% center / 240px auto,
      url('@/assets/login_bg.jpg') no-repeat center / cover;
    border-radius: 0 20px 20px 0;
  }
  .form {
    display: flex;
    flex-direction: column;
    justify-content: center;
    user-select: none;
    .title {
      margin: 0 auto;
    }
    .button {
      width: 100%;
    }
    .flex {
      width: 100%;
      display: flex;
      justify-content: space-between;
    }
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br></div></div><p>ä»£ç è§£æï¼š</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>1.ç»“æ„ç›¸å…³
	el-row è¡¨ç¤ºä¸€è¡Œï¼Œä¸€è¡Œåˆ†æˆ24ä»½
	el-col è¡¨ç¤ºåˆ—
	(1) :span=&quot;12&quot;  ä»£è¡¨åœ¨ä¸€è¡Œä¸­å 12ä»½ï¼ˆ50%)
	(2) :span=&quot;6&quot;   ä»£è¡¨åœ¨ä¸€è¡Œä¸­å 6ä»½ ï¼ˆ25%ï¼‰
	(3) :offset=&quot;3&quot; ä»£è¡¨åœ¨ä¸€è¡Œä¸­ï¼Œå·¦ä¾§marginä»½æ•°
	
<span class="token code keyword">	el-form æ•´ä¸ªè¡¨å•ç»„ä»¶
	el-form-item è¡¨å•çš„ä¸€è¡Œ(ä¸€ä¸ªè¡¨å•åŸŸ)
	el-input è¡¨å•å…ƒç´ (è¾“å…¥æ¡†)</span>
2.æ ¡éªŒç›¸å…³
	(1) el-form =&gt; :model=&quot;ruleForm&quot;  ç»‘å®šçš„æ•´ä¸ªformçš„æ•°æ®å¯¹è±¡ {xxx, xxx, xxx}
	(2) el-form =&gt; :rules=&quot;rules&quot;     ç»‘å®šçš„æ•´ä¸ªrulesè§„åˆ™å¯¹è±¡  {xxx, xxx, xxx}
	(3) è¡¨å•å…ƒç´  =&gt; v-model=&quot;ruleForm.xxx&quot; ç»™è¡¨å•å…ƒç´ ç»‘å®šformçš„å­å±æ€§
	(4) el-form-item =&gt; prop é…ç½®ç”Ÿæ•ˆçš„æ˜¯å“ªä¸ªæ ¡éªŒè§„åˆ™(å’Œrulesä¸­çš„å­—æ®µè¦å¯¹åº”)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="æ³¨å†ŒåŠŸèƒ½"><a href="#æ³¨å†ŒåŠŸèƒ½" class="header-anchor">#</a> æ³¨å†ŒåŠŸèƒ½</h2> <h3 id="å®ç°æ³¨å†Œæ ¡éªŒ"><a href="#å®ç°æ³¨å†Œæ ¡éªŒ" class="header-anchor">#</a> å®ç°æ³¨å†Œæ ¡éªŒ</h3> <p>ã€éœ€æ±‚ã€‘æ³¨å†Œé¡µé¢åŸºæœ¬æ ¡éªŒ</p> <ol><li>ç”¨æˆ·åéç©ºï¼Œé•¿åº¦æ ¡éªŒ5-10ä½</li> <li>å¯†ç éç©ºï¼Œé•¿åº¦æ ¡éªŒ6-15ä½</li> <li>å†æ¬¡è¾“å…¥å¯†ç ï¼Œéç©ºï¼Œé•¿åº¦æ ¡éªŒ6-15ä½</li></ol> <p>ã€è¿›é˜¶ã€‘å†æ¬¡è¾“å…¥å¯†ç éœ€è¦è‡ªå®šä¹‰æ ¡éªŒè§„åˆ™ï¼Œå’Œå¯†ç æ¡†å€¼ä¸€è‡´ï¼ˆå¯é€‰ï¼‰</p> <p>æ³¨æ„ï¼š</p> <ol><li>model å±æ€§ç»‘å®š form æ•°æ®å¯¹è±¡</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formModel <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">repassword</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>v-model ç»‘å®š form æ•°æ®å¯¹è±¡çš„å­å±æ€§</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
  <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.username<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">...</span> 
<span class="token punctuation">(</span>å…¶ä»–ä¸¤ä¸ªä¹Ÿè¦ç»‘å®š<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>rules é…ç½®æ ¡éªŒè§„åˆ™</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
    
const rules = </span><span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥ç”¨æˆ·å'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'ç”¨æˆ·åå¿…é¡»æ˜¯5-10ä½çš„å­—ç¬¦'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥å¯†ç '</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\S{6,15}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'å¯†ç å¿…é¡»æ˜¯6-15ä½çš„éç©ºå­—ç¬¦'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">repassword</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·å†æ¬¡è¾“å…¥å¯†ç '</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\S{6,15}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'å¯†ç å¿…é¡»æ˜¯6-15çš„éç©ºå­—ç¬¦'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>æ•´ä¸ªè¡¨å•çš„æ ¡éªŒè§„åˆ™</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>1.éç©ºæ ¡éªŒ required:trueï¼Œmessage æ¶ˆæ¯æç¤ºï¼Œtriggerè§¦å‘æ ¡éªŒçš„æ—¶æœº blur change
2.é•¿åº¦æ ¡éªŒ minï¼Œmaxï¼Œmessageï¼Œtrigger
3.æ­£åˆ™æ ¡éªŒ pattern: æ­£åˆ™è§„åˆ™  /^$/  \Sè¡¨ç¤ºéç©ºå­—ç¬¦
4.è‡ªå®šä¹‰æ ¡éªŒ =&gt; è‡ªå·±å†™é€»è¾‘æ ¡éªŒ(æ ¡éªŒå‡½æ•°)
	validator: (rule,value, callback)
	(1) rule å½“å‰æ ¡éªŒè§„åˆ™ç›¸å…³çš„ä¿¡æ¯
	(2) value æ‰€æ ¡éªŒçš„è¡¨å•å…ƒç´ å½“å‰çš„è¡¨å•å€¼
	(3) callback æ— è®ºæ ¡éªŒæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½éœ€è¦å›è°ƒ
		<span class="token list punctuation">-</span> callback() æ ¡éªŒæˆåŠŸ
		<span class="token list punctuation">-</span> callback(new Error(é”™è¯¯ä¿¡æ¯)) æ ¡éªŒå¤±è´¥
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="4"><li>prop ç»‘å®šæ ¡éªŒè§„åˆ™</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
    <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.username<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">...</span> 
<span class="token punctuation">(</span>å…¶ä»–ä¸¤ä¸ªä¹Ÿè¦ç»‘å®šprop<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="æ³¨å†Œå‰çš„é¢„æ ¡éªŒ"><a href="#æ³¨å†Œå‰çš„é¢„æ ¡éªŒ" class="header-anchor">#</a> æ³¨å†Œå‰çš„é¢„æ ¡éªŒ</h3> <p>éœ€æ±‚ï¼šç‚¹å‡»æ³¨å†ŒæŒ‰é’®ï¼Œæ³¨å†Œä¹‹å‰ï¼Œéœ€è¦å…ˆæ ¡éªŒ</p> <ol><li>é€šè¿‡ ref è·å–åˆ° è¡¨å•ç»„ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>æ³¨å†Œä¹‹å‰è¿›è¡Œæ ¡éªŒ</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>button
  @click<span class="token operator">=</span><span class="token string">&quot;register&quot;</span>
  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;button&quot;</span>
  type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span>
  auto<span class="token operator">-</span>insert<span class="token operator">-</span>space
<span class="token operator">&gt;</span>
  æ³¨å†Œ
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">register</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> form<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¡¨å•éªŒè¯é€šè¿‡ï¼Œå¼€å§‹æ³¨å†Œè¯·æ±‚'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="å°è£…-api-å®ç°æ³¨å†ŒåŠŸèƒ½"><a href="#å°è£…-api-å®ç°æ³¨å†ŒåŠŸèƒ½" class="header-anchor">#</a> å°è£… api å®ç°æ³¨å†ŒåŠŸèƒ½</h3> <p>éœ€æ±‚ï¼šå°è£…æ³¨å†Œapiï¼Œè¿›è¡Œæ³¨å†Œï¼Œæ³¨å†ŒæˆåŠŸåˆ‡æ¢åˆ°ç™»å½•</p> <ol><li>æ–°å»º api/user.js å°è£…</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userRegisterService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> repassword <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/reg'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> repassword <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">register</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> form<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">userRegisterService</span><span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'æ³¨å†ŒæˆåŠŸ'</span><span class="token punctuation">)</span>
  <span class="token comment">// åˆ‡æ¢åˆ°ç™»å½•</span>
  isRegister<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ³¨æ„ï¼Œè¿™é‡Œå¦‚æœè´¦å·å·²è¢«æ³¨å†Œï¼Œä¼šå¼¹å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œä¹Ÿä¼šæ˜¾ç¤ºæ³¨å†ŒæˆåŠŸå¹¶è·³è½¬</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>è™½ç„¶å‰é¢é…ç½®äº†element-uiçš„è‡ªåŠ¨æŒ‰éœ€å¯¼å…¥ï¼Œä½†æ˜¯ESLintå¹¶ä¸çŸ¥é“æ³¨å†Œäº†ElMessage()æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä½†ä¹Ÿèƒ½æ­£å¸¸æ‰§è¡Œ</p> <ol start="3"><li>ï¼ˆeslintrc ä¸­å£°æ˜å…¨å±€å˜é‡å,  è§£å†³ ElMessage æŠ¥é”™é—®é¢˜ï¼‰</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ElMessage</span><span class="token operator">:</span> <span class="token string">'readonly'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ElMessageBox</span><span class="token operator">:</span> <span class="token string">'readonly'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ElLoading</span><span class="token operator">:</span> <span class="token string">'readonly'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æ²¡æœ‰eslintrcçš„è¯å¯ä»¥ç”¨å¦ä¸€ç§æ–¹æ³•ï¼Œåœ¨<code>main.js</code>ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token operator">...</span>
<span class="token comment">// æŒ‚è½½åˆ°Vueå…¨å±€å®ä¾‹</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$message <span class="token operator">=</span> ElMessage<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="ç™»å½•åŠŸèƒ½"><a href="#ç™»å½•åŠŸèƒ½" class="header-anchor">#</a> ç™»å½•åŠŸèƒ½</h2> <h3 id="å®ç°ç™»å½•æ ¡éªŒ"><a href="#å®ç°ç™»å½•æ ¡éªŒ" class="header-anchor">#</a> å®ç°ç™»å½•æ ¡éªŒ</h3> <p>ã€éœ€æ±‚è¯´æ˜ã€‘ç»™è¾“å…¥æ¡†æ·»åŠ è¡¨å•æ ¡éªŒ</p> <ol><li>ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼Œç”¨æˆ·åå¿…é¡»æ˜¯5-10ä½çš„å­—ç¬¦ï¼Œå¤±å»ç„¦ç‚¹ å’Œ ä¿®æ”¹å†…å®¹æ—¶è§¦å‘æ ¡éªŒ</li> <li>å¯†ç ä¸èƒ½ä¸ºç©ºï¼Œå¯†ç å¿…é¡»æ˜¯6-15ä½çš„å­—ç¬¦ï¼Œå¤±å»ç„¦ç‚¹ å’Œ ä¿®æ”¹å†…å®¹æ—¶è§¦å‘æ ¡éªŒ</li></ol> <p>æ“ä½œæ­¥éª¤ï¼š</p> <ol><li>model å±æ€§ç»‘å®š form æ•°æ®å¯¹è±¡ï¼Œç›´æ¥ç»‘å®šä¹‹å‰æä¾›å¥½çš„æ•°æ®å¯¹è±¡å³å¯</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>rules é…ç½®æ ¡éªŒè§„åˆ™ï¼Œå…±ç”¨æ³¨å†Œçš„è§„åˆ™å³å¯</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>v-model ç»‘å®š form æ•°æ®å¯¹è±¡çš„å­å±æ€§</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
  <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.username<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
  <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.password<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Lock<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="4"><li>prop ç»‘å®šæ ¡éªŒè§„åˆ™</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
    <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.username<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:prefix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
<span class="token operator">...</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="5"><li>åˆ‡æ¢çš„æ—¶å€™é‡ç½®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token function">watch</span><span class="token punctuation">(</span>isRegister<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  formModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">repassword</span><span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="ç™»å½•å‰çš„é¢„æ ¡éªŒ-ç™»å½•æˆåŠŸ"><a href="#ç™»å½•å‰çš„é¢„æ ¡éªŒ-ç™»å½•æˆåŠŸ" class="header-anchor">#</a> ç™»å½•å‰çš„é¢„æ ¡éªŒ &amp; ç™»å½•æˆåŠŸ</h3> <p>ã€éœ€æ±‚è¯´æ˜1ã€‘ç™»å½•ä¹‹å‰çš„é¢„æ ¡éªŒ</p> <ul><li>ç™»å½•è¯·æ±‚ä¹‹å‰ï¼Œéœ€è¦å¯¹ç”¨æˆ·çš„è¾“å…¥å†…å®¹ï¼Œè¿›è¡Œæ ¡éªŒ</li> <li>æ ¡éªŒé€šè¿‡æ‰å‘é€è¯·æ±‚</li></ul> <p>ã€éœ€æ±‚è¯´æ˜2ã€‘<strong>ç™»å½•åŠŸèƒ½</strong></p> <ol><li>å°è£…ç™»å½•APIï¼Œç‚¹å‡»æŒ‰é’®å‘é€ç™»å½•è¯·æ±‚</li> <li>ç™»å½•æˆåŠŸå­˜å‚¨tokenï¼Œå­˜å…¥pinia å’Œ æŒä¹…åŒ–æœ¬åœ°storage</li> <li>è·³è½¬åˆ°é¦–é¡µï¼Œç»™æç¤º</li></ol> <p>ã€æµ‹è¯•è´¦å·ã€‘</p> <ul><li><p>ç™»å½•çš„æµ‹è¯•è´¦å·:  shuaipeng</p></li> <li><p>ç™»å½•æµ‹è¯•å¯†ç :  123456</p></li></ul> <p>PS: æ¯å¤©è´¦å·ä¼šé‡ç½®ï¼Œå¦‚æœè¢«é‡ç½®äº†ï¼Œå¯ä»¥å»æ³¨å†Œé¡µï¼Œæ³¨å†Œä¸€ä¸ªæ–°å·</p> <p>å®ç°æ­¥éª¤ï¼š</p> <ol><li>æ³¨å†Œäº‹ä»¶ï¼Œè¿›è¡Œç™»å½•å‰çš„é¢„æ ¡éªŒ (è·å–åˆ°ç»„ä»¶è°ƒç”¨æ–¹æ³•)</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    
const login = async () =&gt; </span><span class="token punctuation">{</span>
  <span class="token keyword">await</span> form<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å¼€å§‹ç™»å½•'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>å°è£…æ¥å£ API</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userLoginService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'api/login'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>è°ƒç”¨æ–¹æ³•å°† token å­˜å…¥ pinia å¹¶ è‡ªåŠ¨æŒä¹…åŒ–æœ¬åœ°</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> userLoginService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/user.js'</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> form<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">userLoginService</span><span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  userStore<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>token<span class="token punctuation">)</span>
  ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ç™»å½•æˆåŠŸ'</span><span class="token punctuation">)</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h1 id="é¦–é¡µ-layout-æ¶å­-element-plus-èœå•"><a href="#é¦–é¡µ-layout-æ¶å­-element-plus-èœå•" class="header-anchor">#</a> é¦–é¡µ layout æ¶å­ [element-plus èœå•]</h1> <h2 id="åŸºæœ¬æ¶å­æ‹†è§£"><a href="#åŸºæœ¬æ¶å­æ‹†è§£" class="header-anchor">#</a> åŸºæœ¬æ¶å­æ‹†è§£</h2> <p><strong>æ¶å­ç»„ä»¶åˆ—è¡¨ï¼š</strong></p> <p>el-container</p> <ul><li><p>el-aside å·¦ä¾§</p> <ul><li>el-menu å·¦ä¾§è¾¹æ èœå•</li></ul></li> <li><p>el-container  å³ä¾§</p> <ul><li>el-header  å³ä¾§å¤´éƒ¨
<ul><li>el-dropdown</li></ul></li> <li>el-main  å³ä¾§ä¸»ä½“
<ul><li>router-view</li></ul></li></ul></li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import {
  Management,
  Promotion,
  UserFilled,
  User,
  Crop,
  EditPen,
  SwitchButton,
  CaretBottom
} from '@element-plus/icons-vue'
import avatar from '@/assets/default.png'
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-aside</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-aside__logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
        <span class="token attr-name">active-text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffd04b<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">background-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#232323<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$route.path<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">router</span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article/channel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Management</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ–‡ç« åˆ†ç±»</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article/manage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Promotion</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ–‡ç« ç®¡ç†</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          &lt;template #title&gt;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserFilled</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ä¸ªäººä¸­å¿ƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user/profile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">User</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">åŸºæœ¬èµ„æ–™</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user/avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Crop</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ›´æ¢å¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user/password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditPen</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é‡ç½®å¯†ç </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-aside</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é»‘é©¬ç¨‹åºå‘˜ï¼š</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å°å¸…é¹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown</span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom-end<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-dropdown__box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-avatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CaretBottom</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          &lt;template #dropdown&gt;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">åŸºæœ¬èµ„æ–™</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span>
              <span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Crop<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">æ›´æ¢å¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span>
              <span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EditPen<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">é‡ç½®å¯†ç </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span>
              <span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SwitchButton<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">é€€å‡ºç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span>
              <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-footer</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¤§äº‹ä»¶ Â©2023 Created by é»‘é©¬ç¨‹åºå‘˜</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-footer</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
.layout-container {
  height: 100vh;
  .el-aside {
    background-color: #232323;
    &amp;__logo {
      height: 120px;
      background: url('@/assets/logo.png') no-repeat center / 120px auto;
    }
    .el-menu {
      border-right: none;
    }
  }
  .el-header {
    background-color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    .el-dropdown__box {
      display: flex;
      align-items: center;
      .el-icon {
        color: #999;
        margin-left: 10px;
      }

      &amp;:active,
      &amp;:focus {
        outline: none;
      }
    }
  }
  .el-footer {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: #666;
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br></div></div><h2 id="ç™»å½•è®¿é—®æ‹¦æˆª"><a href="#ç™»å½•è®¿é—®æ‹¦æˆª" class="header-anchor">#</a> ç™»å½•è®¿é—®æ‹¦æˆª</h2> <p>éœ€æ±‚ï¼šåªæœ‰ç™»å½•é¡µï¼Œå¯ä»¥æœªæˆæƒçš„æ—¶å€™è®¿é—®ï¼Œå…¶ä»–æ‰€æœ‰é¡µé¢ï¼Œéƒ½éœ€è¦å…ˆç™»å½•å†è®¿é—®</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// stores/index.js</span>
<span class="token comment">// ç™»å½•è®¿é—®æ‹¦æˆª</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userStore<span class="token punctuation">.</span>token <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>path <span class="token operator">!==</span> <span class="token string">'/login'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'/login'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–-æ¸²æŸ“"><a href="#ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–-æ¸²æŸ“" class="header-anchor">#</a> ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–&amp;æ¸²æŸ“</h2> <ol><li><code>api/user.js</code>å°è£…æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userGetInfoService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/my/userinfo'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>stores/modules/user.js å®šä¹‰æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">userGetInfoService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¯·æ±‚è·å–æ•°æ®</span>
  user<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li><code>layout/LayoutContainer</code>é¡µé¢ä¸­è°ƒç”¨</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useUserStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/stores'</span>
<span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  userStore<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="4"><li>åŠ¨æ€æ¸²æŸ“</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  é»‘é©¬ç¨‹åºå‘˜ï¼š</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> userStore<span class="token punctuation">.</span>user<span class="token punctuation">.</span>nickname <span class="token operator">||</span> userStore<span class="token punctuation">.</span>user<span class="token punctuation">.</span>username <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-avatar</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userStore.user.user_pic || avatar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="é€€å‡ºåŠŸèƒ½-element-plus-ç¡®è®¤æ¡†"><a href="#é€€å‡ºåŠŸèƒ½-element-plus-ç¡®è®¤æ¡†" class="header-anchor">#</a> é€€å‡ºåŠŸèƒ½ [element-plus ç¡®è®¤æ¡†]</h2> <ol><li>æ³¨å†Œç‚¹å‡»äº‹ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown placement<span class="token operator">=</span><span class="token string">&quot;bottom-end&quot;</span> @command<span class="token operator">=</span><span class="token string">&quot;onCommand&quot;</span><span class="token operator">&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">åŸºæœ¬èµ„æ–™</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Crop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ›´æ¢å¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EditPen<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é‡ç½®å¯†ç </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SwitchButton<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é€€å‡ºç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>æ·»åŠ é€€å‡ºåŠŸèƒ½</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onCommand</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'logout'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> ElMessageBox<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'ä½ ç¡®è®¤é€€å‡ºå¤§äº‹ä»¶å—ï¼Ÿ'</span><span class="token punctuation">,</span> <span class="token string">'æ¸©é¦¨æç¤º'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">'ç¡®è®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">'å–æ¶ˆ'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    userStore<span class="token punctuation">.</span><span class="token function">removeToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    userStore<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/login</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/user/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>command<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="3"><li>pinia  user.js æ¨¡å— æä¾› setUser æ–¹æ³•</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">setUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>value <span class="token operator">=</span> obj<span class="token punctuation">)</span>

<span class="token keyword">return</span> <span class="token punctuation">{</span> setUser<span class="token punctuation">,</span> xxx <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="æ–‡ç« åˆ†ç±»é¡µé¢-element-plus-è¡¨æ ¼"><a href="#æ–‡ç« åˆ†ç±»é¡µé¢-element-plus-è¡¨æ ¼" class="header-anchor">#</a> æ–‡ç« åˆ†ç±»é¡µé¢ - [element-plus è¡¨æ ¼]</h1> <h2 id="åŸºæœ¬æ¶å­-pagecontainer"><a href="#åŸºæœ¬æ¶å­-pagecontainer" class="header-anchor">#</a> åŸºæœ¬æ¶å­ - PageContainer</h2> <ol><li>åŸºæœ¬ç»“æ„æ ·å¼ï¼Œç”¨åˆ°äº† el-card ç»„ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// @/components/PageContainer.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-card</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #header&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ–‡ç« åˆ†ç±»</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ·»åŠ åˆ†ç±»</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     ...
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-card</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
.page-container {
  min-height: 100%;
  box-sizing: border-box;
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><ol start="2"><li>è€ƒè™‘åˆ°å¤šä¸ªé¡µé¢å¤ç”¨ï¼Œå°è£…æˆç»„ä»¶
<ul><li>props å®šåˆ¶æ ‡é¢˜</li> <li>é»˜è®¤æ’æ§½ default å®šåˆ¶å†…å®¹ä¸»ä½“</li> <li>å…·åæ’æ§½ extra  å®šåˆ¶å¤´éƒ¨å³ä¾§é¢å¤–çš„æŒ‰é’®</li></ul></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
defineProps({
  title: {
    required: true,
    type: String
  }
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-card</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #header&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-card</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
.page-container {
  min-height: 100%;
  box-sizing: border-box;
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ol start="3"><li>é¡µé¢ä¸­ç›´æ¥ä½¿ç”¨æµ‹è¯• ( unplugin-vue-components ä¼šè‡ªåŠ¨æ³¨å†Œ)</li></ol> <ul><li>æ–‡ç« åˆ†ç±»æµ‹è¯•ï¼š</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-container</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« åˆ†ç±»<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #extra&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> æ·»åŠ åˆ†ç±» </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

    ä¸»ä½“éƒ¨åˆ†
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>æ–‡ç« ç®¡ç†æµ‹è¯•ï¼š</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-container</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« ç®¡ç†<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #extra&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å‘å¸ƒæ–‡ç« </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

    ä¸»ä½“éƒ¨åˆ†
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="æ–‡ç« åˆ†ç±»æ¸²æŸ“"><a href="#æ–‡ç« åˆ†ç±»æ¸²æŸ“" class="header-anchor">#</a> æ–‡ç« åˆ†ç±»æ¸²æŸ“</h2> <h3 id="å°è£…api-è¯·æ±‚è·å–è¡¨æ ¼æ•°æ®"><a href="#å°è£…api-è¯·æ±‚è·å–è¡¨æ ¼æ•°æ®" class="header-anchor">#</a> å°è£…API - è¯·æ±‚è·å–è¡¨æ ¼æ•°æ®</h3> <ol><li>æ–°å»º <code>api/article.js</code> å°è£…è·å–é¢‘é“åˆ—è¡¨çš„æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artGetChannelsService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/my/cate/list'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨æ¥å£ï¼Œè·å–æ•°æ®å­˜å‚¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Edit<span class="token punctuation">,</span>
  Delete
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@element-plus/icons-vue'</span>

<span class="token keyword">const</span> channelList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">getChannelList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">artGetChannelsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  channelList<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
<span class="token punctuation">}</span>
<span class="token function">getChannelList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="el-table-è¡¨æ ¼åŠ¨æ€æ¸²æŸ“"><a href="#el-table-è¡¨æ ¼åŠ¨æ€æ¸²æŸ“" class="header-anchor">#</a> el-table è¡¨æ ¼åŠ¨æ€æ¸²æŸ“</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>channelList<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åºå·<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åˆ†ç±»åç§°<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åˆ†ç±»åˆ«å<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_alias<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ“ä½œ<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #default=&quot;{ row }&quot;&gt;
      &lt;el-button
        :icon=&quot;Edit&quot;
        circle
        plain
        type=&quot;primary&quot;
        @click=&quot;onEditChannel(row)&quot;
      &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;el-button
        :icon=&quot;Delete&quot;
        circle
        plain
        type=&quot;danger&quot;
        @click=&quot;onDelChannel(row)&quot;
      &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;template #empty&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-empty</span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ²¡æœ‰æ•°æ®<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>


<span class="token keyword">const</span> <span class="token function-variable function">onEditChannel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onDelChannel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="el-table-è¡¨æ ¼-loading-æ•ˆæœ"><a href="#el-table-è¡¨æ ¼-loading-æ•ˆæœ" class="header-anchor">#</a> el-table è¡¨æ ¼ loading æ•ˆæœ</h3> <ol><li>å®šä¹‰å˜é‡ï¼Œv-loadingç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> loading <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>å‘é€è¯·æ±‚å‰å¼€å¯ï¼Œè¯·æ±‚ç»“æŸå…³é—­</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">getChannelList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">artGetChannelsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  channelList<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
  loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="æ–‡ç« åˆ†ç±»æ·»åŠ ç¼–è¾‘-element-plus-å¼¹å±‚"><a href="#æ–‡ç« åˆ†ç±»æ·»åŠ ç¼–è¾‘-element-plus-å¼¹å±‚" class="header-anchor">#</a> æ–‡ç« åˆ†ç±»æ·»åŠ ç¼–è¾‘ [element-plus å¼¹å±‚]</h2> <h3 id="ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚"><a href="#ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚" class="header-anchor">#</a> ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚</h3> <ol><li>å‡†å¤‡å¼¹å±‚</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> dialogVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ·»åŠ å¼¹å±‚<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘æ˜¯å†…å®¹éƒ¨åˆ†</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;template #footer&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;å–æ¶ˆ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ç¡®è®¤ </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>ç‚¹å‡»äº‹ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>template #extra<span class="token operator">&gt;</span><span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;onAddChannel&quot;</span><span class="token operator">&gt;</span>æ·»åŠ åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">onAddChannel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="å°è£…å¼¹å±‚ç»„ä»¶-channeledit"><a href="#å°è£…å¼¹å±‚ç»„ä»¶-channeledit" class="header-anchor">#</a> å°è£…å¼¹å±‚ç»„ä»¶ ChannelEdit</h3> <p>æ·»åŠ  å’Œ ç¼–è¾‘ï¼Œå¯ä»¥å…±ç”¨ä¸€ä¸ªå¼¹å±‚ï¼Œæ‰€ä»¥å¯ä»¥å°†å¼¹å±‚å°è£…æˆä¸€ä¸ªç»„ä»¶</p> <p>ç»„ä»¶å¯¹å¤–æš´éœ²ä¸€ä¸ªæ–¹æ³• open,  åŸºäº open çš„å‚æ•°ï¼Œåˆå§‹åŒ–è¡¨å•æ•°æ®ï¼Œå¹¶åˆ¤æ–­åŒºåˆ†æ˜¯æ·»åŠ  è¿˜æ˜¯ ç¼–è¾‘</p> <ol><li>open({ })                   =&gt;  æ·»åŠ æ“ä½œï¼Œæ·»åŠ è¡¨å•åˆå§‹åŒ–æ— æ•°æ®</li> <li>open({ id: xx,  ...  })  =&gt;  ç¼–è¾‘æ“ä½œï¼Œç¼–è¾‘è¡¨å•åˆå§‹åŒ–éœ€å›æ˜¾</li></ol> <p>å…·ä½“å®ç°ï¼š</p> <ol><li>å°è£…ç»„ä»¶ <code>article/components/ChannelEdit.vue</code></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { ref } from 'vue'
const dialogVisible = ref(false)

const open = async (row) =&gt; {
  dialogVisible.value = true
  console.log(row)
}

defineExpose({
  open
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ·»åŠ å¼¹å±‚<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘æ˜¯å†…å®¹éƒ¨åˆ†</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #footer&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;å–æ¶ˆ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ç¡®è®¤ </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="2"><li>é€šè¿‡ ref ç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> dialog <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼¹çª— <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channel-edit</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel-edit</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>ç‚¹å‡»è°ƒç”¨æ–¹æ³•æ˜¾ç¤ºå¼¹çª—</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onAddChannel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  dialog<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onEditChannel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  dialog<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="å‡†å¤‡å¼¹å±‚è¡¨å•"><a href="#å‡†å¤‡å¼¹å±‚è¡¨å•" class="header-anchor">#</a> å‡†å¤‡å¼¹å±‚è¡¨å•</h3> <ol><li>å‡†å¤‡æ•°æ® å’Œ æ ¡éªŒè§„åˆ™</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formModel <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">cate_name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cate_alias</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> rules <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">cate_name</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥åˆ†ç±»åç§°'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\S{1,10}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'åˆ†ç±»åå¿…é¡»æ˜¯1-10ä½çš„éç©ºå­—ç¬¦'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cate_alias</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥åˆ†ç±»åˆ«å'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9]{1,15}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'åˆ†ç±»åˆ«åå¿…é¡»æ˜¯1-15ä½çš„å­—æ¯æ•°å­—'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ol start="2"><li>å‡†å¤‡è¡¨å•</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog...</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span>
      <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">padding-right</span><span class="token punctuation">:</span> 30px</span><span class="token punctuation">&quot;</span></span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åˆ†ç±»åç§°<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.cate_name<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">minlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥åˆ†ç±»åç§°<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åˆ†ç±»åˆ«å<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_alias<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.cate_alias<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">minlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥åˆ†ç±»åˆ«å<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog...</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="3"><li>ç¼–è¾‘éœ€è¦å›æ˜¾ï¼Œè¡¨å•æ•°æ®éœ€è¦åˆå§‹åŒ–</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  formModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>row <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>åŸºäºä¼ è¿‡æ¥çš„è¡¨å•æ•°æ®ï¼Œè¿›è¡Œæ ‡é¢˜æ§åˆ¶ï¼Œæœ‰ id çš„æ˜¯ç¼–è¾‘</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;formModel.id ? 'ç¼–è¾‘åˆ†ç±»' : 'æ·»åŠ åˆ†ç±»'&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>é—®é¢˜ï¼šæ·»åŠ åˆ†ç±»æ—¶å¦‚æœæœ‰é”™è¯¯æç¤ºæ²¡è§£å†³ï¼Œåœ¨ç¼–è¾‘åˆ†ç±»ä¸­ä¾ç„¶ä¼šæ˜¾ç¤ºï¼Œæ²¡æœ‰æ¸…ç©º</strong></p> <p><strong>è§£å†³ï¼š</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">resetForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>formRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">// é‡ç½®è¡¨å•çŠ¶æ€</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog 
    v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> 
    title<span class="token operator">=</span><span class="token string">&quot;åˆ†ç±»ç®¡ç†&quot;</span> 
    @closed<span class="token operator">=</span><span class="token string">&quot;resetForm&quot;</span>
  <span class="token operator">&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span>
      <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
...
        
// å¯ä»¥ç®€åŒ–ä¸º@closed=&quot;formRef.value?.resetFields()&quot;ï¼Œè€Œä¸ç”¨å†å†™ä¸€ä¸ªresetForm()æ–¹æ³•
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="ç¡®è®¤æäº¤"><a href="#ç¡®è®¤æäº¤" class="header-anchor">#</a> ç¡®è®¤æäº¤</h3> <ol><li><code>api/article.js</code>  å°è£…è¯·æ±‚ API</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ·»åŠ æ–‡ç« åˆ†ç±»</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artAddChannelService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/my/cate/add'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token comment">// ç¼–è¾‘æ–‡ç« åˆ†ç±»</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artEditChannelService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/my/cate/info'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­æ ¡éªŒï¼Œåˆ¤æ–­ï¼Œæäº¤è¯·æ±‚</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id
    <span class="token operator">?</span> <span class="token keyword">await</span> <span class="token function">artEditChannelService</span><span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token keyword">await</span> <span class="token function">artAddChannelService</span><span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id <span class="token operator">?</span> <span class="token string">'ç¼–è¾‘æˆåŠŸ'</span> <span class="token operator">:</span> <span class="token string">'æ·»åŠ æˆåŠŸ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="3"><li>é€šçŸ¥çˆ¶ç»„ä»¶è¿›è¡Œå›æ˜¾</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'success'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="4"><li>çˆ¶ç»„ä»¶ç›‘å¬ success äº‹ä»¶ï¼Œè¿›è¡Œè°ƒç”¨å›æ˜¾</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>channel<span class="token operator">-</span>edit ref<span class="token operator">=</span><span class="token string">&quot;dialog&quot;</span> @success<span class="token operator">=</span><span class="token string">&quot;onSuccess&quot;</span><span class="token operator">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel-edit</span><span class="token punctuation">&gt;</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">onSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getChannelList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="æ–‡ç« åˆ†ç±»åˆ é™¤"><a href="#æ–‡ç« åˆ†ç±»åˆ é™¤" class="header-anchor">#</a> æ–‡ç« åˆ†ç±»åˆ é™¤</h2> <ol><li><code>api/article.js</code>å°è£…æ¥å£ api</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// åˆ é™¤æ–‡ç« åˆ†ç±»</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artDelChannelService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/my/cate/del'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æ³¨æ„è¿™é‡Œ=&gt;ç®­å¤´å‡½æ•°æ²¡æœ‰å¤§æ‹¬å· {}ï¼Œä¼šè‡ªåŠ¨å°†è¡¨è¾¾å¼ç»“æœä½œä¸ºè¿”å›å€¼ã€‚</span>
<span class="token comment">// å¦‚æœç®­å¤´å‡½æ•°æœ‰å¤§æ‹¬å· {}ï¼Œéœ€è¦æ˜¾å¼ç”¨ return è¿”å›ç»“æœï¼Œå¦åˆ™åˆ é™¤å®Œæ²¡ç»“æœï¼Œè¡¨æ ¼ä¸ä¼šåˆ·æ–°</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­æ·»åŠ ç¡®è®¤æ¡†ï¼Œè°ƒç”¨æ¥å£è¿›è¡Œæç¤º</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onDelChannel</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ElMessageBox<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'ä½ ç¡®è®¤åˆ é™¤è¯¥åˆ†ç±»ä¿¡æ¯å—ï¼Ÿ'</span><span class="token punctuation">,</span> <span class="token string">'æ¸©é¦¨æç¤º'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">'ç¡®è®¤'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">'å–æ¶ˆ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">artDelChannelService</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'åˆ é™¤æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">getChannelList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="æ–‡ç« ç®¡ç†é¡µé¢-element-plus-å¼ºåŒ–"><a href="#æ–‡ç« ç®¡ç†é¡µé¢-element-plus-å¼ºåŒ–" class="header-anchor">#</a> æ–‡ç« ç®¡ç†é¡µé¢ - [element-plus å¼ºåŒ–]</h1> <h2 id="æ–‡ç« åˆ—è¡¨æ¸²æŸ“"><a href="#æ–‡ç« åˆ—è¡¨æ¸²æŸ“" class="header-anchor">#</a> æ–‡ç« åˆ—è¡¨æ¸²æŸ“</h2> <h3 id="åŸºæœ¬æ¶å­æ­å»º"><a href="#åŸºæœ¬æ¶å­æ­å»º" class="header-anchor">#</a> åŸºæœ¬æ¶å­æ­å»º</h3> <p><img src="/media/ae7e5c/image-20230724224754131.png" alt="image-20230724224754131"></p> <ol><li>æœç´¢è¡¨å•</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">inline</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« åˆ†ç±»ï¼š<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 240px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–°é—»<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>111<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä½“è‚²<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>222<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å‘å¸ƒçŠ¶æ€ï¼š<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 240px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å·²å‘å¸ƒ<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å·²å‘å¸ƒ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è‰ç¨¿<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è‰ç¨¿<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æœç´¢</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é‡ç½®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="2"><li>è¡¨æ ¼å‡†å¤‡ï¼Œæ¨¡æ‹Ÿå‡æ•°æ®æ¸²æŸ“</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Delete<span class="token punctuation">,</span> Edit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@element-plus/icons-vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// å‡æ•°æ®</span>
<span class="token keyword">const</span> articleList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5961</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ–°çš„æ–‡ç« å•Š'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pub_date</span><span class="token operator">:</span> <span class="token string">'2022-07-10 14:53:52.604'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">'å·²å‘å¸ƒ'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cate_name</span><span class="token operator">:</span> <span class="token string">'ä½“è‚²'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5962</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ–°çš„æ–‡ç« å•Š'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pub_date</span><span class="token operator">:</span> <span class="token string">'2022-07-10 14:54:30.904'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">'è‰ç¨¿'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cate_name</span><span class="token operator">:</span> <span class="token string">'ä½“è‚²'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>articleList<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« æ ‡é¢˜<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #default=&quot;{ row }&quot;&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:underline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> row<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åˆ†ç±»<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å‘è¡¨æ—¶é—´<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pub_date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>çŠ¶æ€<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>state<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  	&lt;!-- åˆ©ç”¨ä½œç”¨äºæ’æ§½row å¯ä»¥è·å–å½“å‰è¡Œçš„æ•°æ® =&gt; ç±»ä¼¼äº v-for çš„ item --&gt;
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ“ä½œ<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;template #default=&quot;{ row }&quot;&gt;
      &lt;el-button
        :icon=&quot;Edit&quot;
        circle
        plain
        type=&quot;primary&quot;
        @click=&quot;onEditArticle(row)&quot;
      &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;el-button
        :icon=&quot;Delete&quot;
        circle
        plain
        type=&quot;danger&quot;
        @click=&quot;onDeleteArticle(row)&quot;
      &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;template #empty&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-empty</span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ²¡æœ‰æ•°æ®<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>


<span class="token keyword">const</span> <span class="token function-variable function">onEditArticle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onDeleteArticle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="ä¸­è‹±å›½é™…åŒ–å¤„ç†"><a href="#ä¸­è‹±å›½é™…åŒ–å¤„ç†" class="header-anchor">#</a> ä¸­è‹±å›½é™…åŒ–å¤„ç†</h3> <p>é»˜è®¤æ˜¯è‹±æ–‡çš„ï¼Œç”±äºè¿™é‡Œä¸æ¶‰åŠåˆ‡æ¢ï¼Œ æ‰€ä»¥åœ¨ <code>App.vue</code> ä¸­ç›´æ¥å¯¼å…¥è®¾ç½®æˆä¸­æ–‡å³å¯ï¼Œ</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import zh from 'element-plus/es/locale/lang/zh-cn.mjs'
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;!-- å›½é™…åŒ–å¤„ç† --&gt;
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-config-provider</span> <span class="token attr-name">:locale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zh<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-config-provider</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="æ–‡ç« åˆ†ç±»é€‰æ‹©"><a href="#æ–‡ç« åˆ†ç±»é€‰æ‹©" class="header-anchor">#</a> æ–‡ç« åˆ†ç±»é€‰æ‹©</h3> <p>ä¸ºäº†ä¾¿äºç»´æŠ¤ï¼Œç›´æ¥æ‹†åˆ†æˆä¸€ä¸ªå°ç»„ä»¶ ChannelSelect.vueï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½ä¼šåœ¨å¤šä¸ªåœ°æ–¹ç”¨åˆ°è€Œä¸”åˆ†ç±»çš„æ•°æ®æ˜¯åŠ¨æ€æ¸²æŸ“çš„ã€‚</p> <p>è€Œå‘å¸ƒçŠ¶æ€å°±å·²å‘å¸ƒå’Œè‰ç¨¿ä¸¤ä¸ªï¼Œå›ºå®šçš„ã€‚</p> <ol><li>æ–°å»º article/components/ChannelSelect.vue</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–°é—»<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–°é—»<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä½“è‚²<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä½“è‚²<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­å¯¼å…¥æ¸²æŸ“</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>import ChannelSelect from './components/ChannelSelect.vue'

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« åˆ†ç±»ï¼š<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channel-select</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel-select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>è°ƒç”¨æ¥å£ï¼ŒåŠ¨æ€æ¸²æŸ“ä¸‹æ‹‰åˆ†ç±»ï¼Œè®¾è®¡æˆ v-model çš„ä½¿ç”¨æ–¹å¼</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { artGetChannelsService } from '@/api/article'
import { ref } from 'vue'

defineProps({
  modelValue: {
    type: [Number, String]
  }
})

const emit = defineEmits(['update:modelValue'])
const channelList = ref([])
const getChannelList = async () =&gt; {
  const res = await artGetChannelsService()
  channelList.value = res.data.data
}
getChannelList()
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;el-select
    :modelValue=&quot;modelValue&quot;
    @update:modelValue=&quot;emit('update:modelValue', $event)&quot;
  &gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>channel in channelList<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>channel.id<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>channel.cate_name<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>channel.id<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>åœ¨ <strong>Vue2</strong> ä¸­ v-model æ˜¯ <code>:value</code> å’Œ <code>@input</code> çš„ç®€å†™ï¼›</p> <p>åœ¨ <strong>Vue3</strong> ä¸­ v-model æ˜¯ <code>:modelValue</code> å’Œ <code>@update:modelValue</code> çš„ç®€å†™</p> <ol start="4"><li>çˆ¶ç»„ä»¶å®šä¹‰å‚æ•°ç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">pagenum</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pagesize</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cate_id</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channel-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>params.cate_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel-select</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="5"><li>å‘å¸ƒçŠ¶æ€ï¼Œä¹Ÿç»‘å®šä¸€ä¸‹ï¼Œä¾¿äºå°†æ¥æäº¤è¡¨å•</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>params.state<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å·²å‘å¸ƒ<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å·²å‘å¸ƒ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è‰ç¨¿<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è‰ç¨¿<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="å°è£…-api-æ¥å£-è¯·æ±‚æ¸²æŸ“"><a href="#å°è£…-api-æ¥å£-è¯·æ±‚æ¸²æŸ“" class="header-anchor">#</a> å°è£… API æ¥å£ï¼Œè¯·æ±‚æ¸²æŸ“</h3> <p><strong>æ²¡æœ‰æ•°æ®ï¼Œå¯ä»¥ç™»å½•å·²å®Œæˆçš„ç³»ç»Ÿï¼Œæ·»åŠ å‡ æ¡æ•°æ®</strong></p> <ol><li><code>api/article.js</code>å°è£…æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artGetListService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/my/article/list'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨ä¿å­˜æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> articleList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">getArticleList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">artGetListService</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  articleList<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
  total<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total
<span class="token punctuation">}</span>
<span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="3"><li>æ–°å»º <code>utils/format.js</code> å°è£…æ ¼å¼åŒ–æ—¥æœŸå‡½æ•°</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> dayjs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">formatTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYYå¹´MMæœˆDDæ—¥'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>å¯¼å…¥ä½¿ç”¨</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>import { formatTime } from '@/utils/format'

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å‘è¡¨æ—¶é—´<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ row }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ formatTime(row.pub_date) }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="åˆ†é¡µæ¸²æŸ“-element-plus-åˆ†é¡µ"><a href="#åˆ†é¡µæ¸²æŸ“-element-plus-åˆ†é¡µ" class="header-anchor">#</a> åˆ†é¡µæ¸²æŸ“ [element-plus åˆ†é¡µ]</h3> <ol><li>åˆ†é¡µç»„ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
  v<span class="token operator">-</span>model<span class="token operator">:</span>current<span class="token operator">-</span>page<span class="token operator">=</span><span class="token string">&quot;params.pagenum&quot;</span>
  v<span class="token operator">-</span>model<span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;params.pagesize&quot;</span>
  <span class="token operator">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">&quot;[2, 3, 4, 5, 10]&quot;</span>
  layout<span class="token operator">=</span><span class="token string">&quot;jumper, total, sizes, prev, pager, next&quot;</span>
  <span class="token literal-property property">background</span>
  <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">&quot;total&quot;</span>
  @size<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;onSizeChange&quot;</span>
  @current<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;onCurrentChange&quot;</span>
  style<span class="token operator">=</span><span class="token string">&quot;margin-top: 20px; justify-content: flex-end&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>æä¾›åˆ†é¡µä¿®æ”¹é€»è¾‘</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onSizeChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">size</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagenum <span class="token operator">=</span> <span class="token number">1</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagesize <span class="token operator">=</span> size
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onCurrentChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagenum <span class="token operator">=</span> page
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="æ·»åŠ -loading-å¤„ç†"><a href="#æ·»åŠ -loading-å¤„ç†" class="header-anchor">#</a> æ·»åŠ  loading å¤„ç†</h3> <ol><li>å‡†å¤‡æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> loading <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>el-tableä¸Šé¢ç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text"> ... </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>å‘é€è¯·æ±‚æ—¶æ·»åŠ  loading</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">getArticleList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
    
  <span class="token operator">...</span>
  
  loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="æœç´¢-å’Œ-é‡ç½®åŠŸèƒ½"><a href="#æœç´¢-å’Œ-é‡ç½®åŠŸèƒ½" class="header-anchor">#</a> æœç´¢ å’Œ é‡ç½®åŠŸèƒ½</h3> <ol><li>æ³¨å†Œäº‹ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;el-button @click=&quot;onSearch&quot; type=&quot;primary&quot;&gt;æœç´¢</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;el-button @click=&quot;onReset&quot;&gt;é‡ç½®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>ç»‘å®šå¤„ç†</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagenum <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">onReset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagenum <span class="token operator">=</span> <span class="token number">1</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>cate_id <span class="token operator">=</span> <span class="token string">''</span>
  params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>é—®é¢˜ï¼šç”¨æˆ·ä¿®æ”¹ç­›é€‰æ¡ä»¶åå½±å“åˆ†é¡µæ“ä½œï¼Œç‚¹å‡»é¡µç ä¹Ÿä¼šè¿›è¡Œæœç´¢ï¼Œä»£ç é€»è¾‘æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å½±å“ä½¿ç”¨ä½“éªŒ</strong></p> <p>**è§£å†³ï¼š**å¯ä»¥å°† <code>params</code> å’Œç­›é€‰è¡¨å•çš„ç»‘å®šè§£è€¦ï¼Œè‡ªè¡Œç ”ç©¶</p> <h2 id="æ–‡ç« å‘å¸ƒ-ä¿®æ”¹-element-plus-æŠ½å±‰"><a href="#æ–‡ç« å‘å¸ƒ-ä¿®æ”¹-element-plus-æŠ½å±‰" class="header-anchor">#</a> æ–‡ç« å‘å¸ƒ&amp;ä¿®æ”¹ [element-plus - æŠ½å±‰]</h2> <h3 id="ç‚¹å‡»æ˜¾ç¤ºæŠ½å±‰"><a href="#ç‚¹å‡»æ˜¾ç¤ºæŠ½å±‰" class="header-anchor">#</a> ç‚¹å‡»æ˜¾ç¤ºæŠ½å±‰</h3> <ol><li>å‡†å¤‡æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> visibleDrawer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>å‡†å¤‡æŠ½å±‰å®¹å™¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-drawer</span>
  <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visibleDrawer<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å¤§æ ‡é¢˜<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rtl<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50%<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hi there!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-drawer</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="3"><li>ç‚¹å‡»ä¿®æ”¹å¸ƒå°”å€¼æ˜¾ç¤ºæŠ½å±‰</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;onAddArticle&quot;</span><span class="token operator">&gt;</span>å‘å¸ƒæ–‡ç« <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>

<span class="token keyword">const</span> visibleDrawer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onAddArticle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="å°è£…æŠ½å±‰ç»„ä»¶-articleedit"><a href="#å°è£…æŠ½å±‰ç»„ä»¶-articleedit" class="header-anchor">#</a> å°è£…æŠ½å±‰ç»„ä»¶ ArticleEdit</h3> <p>æ·»åŠ  å’Œ ç¼–è¾‘ï¼Œå¯ä»¥å…±ç”¨ä¸€ä¸ªæŠ½å±‰ï¼Œæ‰€ä»¥å¯ä»¥å°†æŠ½å±‰å°è£…æˆä¸€ä¸ªç»„ä»¶</p> <p>ç»„ä»¶å¯¹å¤–æš´éœ²ä¸€ä¸ªæ–¹æ³• open,  åŸºäº open çš„å‚æ•°ï¼Œåˆå§‹åŒ–è¡¨å•æ•°æ®ï¼Œå¹¶åˆ¤æ–­åŒºåˆ†æ˜¯æ·»åŠ  è¿˜æ˜¯ ç¼–è¾‘</p> <ol><li>open({ })                   =&gt;  æ·»åŠ æ“ä½œï¼Œæ·»åŠ è¡¨å•åˆå§‹åŒ–æ— æ•°æ®</li> <li>open({ id: xx,  ...  })  =&gt;  ç¼–è¾‘æ“ä½œï¼Œç¼–è¾‘è¡¨å•åˆå§‹åŒ–éœ€å›æ˜¾</li></ol> <p>å…·ä½“å®ç°ï¼š</p> <ol><li>å°è£…ç»„ä»¶ <code>article/components/ArticleEdit.vue</code></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { ref } from 'vue'
const visibleDrawer = ref(false)

const open = (row) =&gt; {
  visibleDrawer.value = true
  console.log(row)
}

defineExpose({
  open
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;!-- æŠ½å±‰ --&gt;
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-drawer</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visibleDrawer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å¤§æ ‡é¢˜<span class="token punctuation">&quot;</span></span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rtl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hi there!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-drawer</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol start="2"><li>é€šè¿‡ ref ç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> articleEditRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¼¹çª— <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article-edit</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>articleEditRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article-edit</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>ç‚¹å‡»è°ƒç”¨æ–¹æ³•æ˜¾ç¤ºå¼¹çª—</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ç¼–è¾‘æ–°å¢é€»è¾‘</span>
<span class="token keyword">const</span> <span class="token function-variable function">onAddArticle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  articleEditRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onEditArticle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  articleEditRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="å®Œå–„æŠ½å±‰è¡¨å•ç»“æ„"><a href="#å®Œå–„æŠ½å±‰è¡¨å•ç»“æ„" class="header-anchor">#</a> å®Œå–„æŠ½å±‰è¡¨å•ç»“æ„</h3> <ol><li>å‡†å¤‡æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formModel <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cate_id</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cover_img</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘å›æ˜¾'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ·»åŠ åŠŸèƒ½'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>å‡†å¤‡ form è¡¨å•ç»“æ„</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> ChannelSelect <span class="token keyword">from</span> <span class="token string">'./ChannelSelect.vue'</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-drawer</span>
    <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visibleDrawer<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.id ? 'ç¼–è¾‘æ–‡ç« ' : 'æ·»åŠ æ–‡ç« '<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rtl<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50%<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;!-- å‘è¡¨æ–‡ç« è¡¨å• --&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« æ ‡é¢˜<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥æ ‡é¢˜<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« åˆ†ç±»<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>channel-select</span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.cate_id<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>channel-select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« å°é¢<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cover_img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> æ–‡ä»¶ä¸Šä¼  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ç« å†…å®¹<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å‘å¸ƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è‰ç¨¿</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-drawer</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ol start="3"><li>ä¸€æ‰“å¼€æŠ½å±‰åˆ™é»˜è®¤é‡ç½®æ·»åŠ çš„ form è¡¨å•æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// é»˜è®¤æ•°æ®</span>
<span class="token keyword">const</span> defaultForm <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cate_id</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cover_img</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> formModel <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>defaultForm <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘å›æ˜¾'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ·»åŠ åŠŸèƒ½'</span><span class="token punctuation">)</span>
    formModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>defaultForm <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ol start="4"><li>æ‰©å±• ä¸‹æ‹‰èœå• width props</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ChannelSelect.vue</span>
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>Number<span class="token punctuation">,</span> String<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span>
 <span class="token attr-name">...</span>
 <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ width }<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="ä¸Šä¼ æ–‡ä»¶-element-plus-æ–‡ä»¶é¢„è§ˆ"><a href="#ä¸Šä¼ æ–‡ä»¶-element-plus-æ–‡ä»¶é¢„è§ˆ" class="header-anchor">#</a> ä¸Šä¼ æ–‡ä»¶ [element-plus - æ–‡ä»¶é¢„è§ˆ]</h3> <ol><li>å…³é—­è‡ªåŠ¨ä¸Šä¼ ï¼Œå‡†å¤‡ç»“æ„</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Plus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@element-plus/icons-vue'</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 
	æ­¤å¤„éœ€è¦å…³é—­ element<span class="token operator">-</span>plus çš„è‡ªåŠ¨ä¸Šä¼ ï¼Œä¸éœ€è¦é…ç½® action ç­‰å‚æ•°ã€‚
	åªéœ€è¦åšå‰ç«¯çš„æœ¬åœ°é¢„è§ˆå›¾ç‰‡å³å¯ï¼Œæ— éœ€åœ¨æäº¤å‰ä¸Šä¼ å›¾æ ‡
    è¯­æ³•ï¼š<span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> åˆ›å»ºæœ¬åœ°é¢„è§ˆçš„åœ°å€ æ¥é¢„è§ˆ
<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-uploader<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:auto-upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:show-file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onUploadFile<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imgUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imgUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span> <span class="token attr-name">v-else</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-uploader-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Plus</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>å‡†å¤‡æ•°æ® å’Œ é€‰æ‹©å›¾ç‰‡çš„å¤„ç†é€»è¾‘</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> imgUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onUploadFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">uploadFile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  imgUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>uploadFile<span class="token punctuation">.</span>raw<span class="token punctuation">)</span>
  formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>cover_img <span class="token operator">=</span> uploadFile<span class="token punctuation">.</span>raw
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>æ ·å¼ç¾åŒ–</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.avatar-uploader</span> <span class="token punctuation">{</span>
  <span class="token selector">:deep()</span> <span class="token punctuation">{</span>
    <span class="token selector">.avatar</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 178px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 178px<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.el-upload</span> <span class="token punctuation">{</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed <span class="token function">var</span><span class="token punctuation">(</span>--el-border-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--el-transition-duration-fast<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.el-upload:hover</span> <span class="token punctuation">{</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--el-color-primary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.el-icon.avatar-uploader-icon</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #8c939d<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 178px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 178px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨-vue-quill"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨-vue-quill" class="header-anchor">#</a> å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ [ vue-quill ]</h3> <p>å®˜ç½‘åœ°å€ï¼šhttps://vueup.github.io/vue-quill/</p> <ol><li>å®‰è£…åŒ…</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>pnpm add @vueup<span class="token operator">/</span>vue<span class="token operator">-</span>quill@latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>æ³¨å†Œæˆå±€éƒ¨ç»„ä»¶</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> QuillEditor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vueup/vue-quill'</span>
<span class="token keyword">import</span> <span class="token string">'@vueup/vue-quill/dist/vue-quill.snow.css'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>é¡µé¢ä¸­ä½¿ç”¨ç»‘å®š</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>quill-editor</span>
    <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>snow<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">v-model:</span>content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formModel.content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">contentType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>html<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>quill-editor</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="4"><li>æ ·å¼ç¾åŒ–</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">.</span>editor <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>ql<span class="token operator">-</span>editor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    min<span class="token operator">-</span>height<span class="token operator">:</span> 200px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="æ·»åŠ æ–‡ç« åŠŸèƒ½"><a href="#æ·»åŠ æ–‡ç« åŠŸèƒ½" class="header-anchor">#</a> æ·»åŠ æ–‡ç« åŠŸèƒ½</h3> <ol><li>å°è£…æ·»åŠ æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artPublishService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/my/article/add'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>æ³¨å†Œç‚¹å‡»äº‹ä»¶è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;el-button @click=&quot;onPublish('å·²å‘å¸ƒ')&quot; type=&quot;primary&quot;&gt;å‘å¸ƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;el-button @click=&quot;onPublish('è‰ç¨¿')&quot; type=&quot;info&quot;&gt;è‰ç¨¿</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// å‘å¸ƒæ–‡ç« </span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'success'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onPublish</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å°†å·²å‘å¸ƒè¿˜æ˜¯è‰ç¨¿çŠ¶æ€ï¼Œå­˜å…¥ state</span>
  formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>state <span class="token operator">=</span> state

  <span class="token comment">// è½¬æ¢ formData æ•°æ®</span>
  <span class="token keyword">const</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘æ“ä½œ'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ è¯·æ±‚</span>
    <span class="token keyword">await</span> <span class="token function">artPublishService</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
    ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'æ·»åŠ æˆåŠŸ'</span><span class="token punctuation">)</span>
    visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token string">'add'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol start="3"><li>çˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶ï¼Œé‡æ–°æ¸²æŸ“</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>article<span class="token operator">-</span>edit ref<span class="token operator">=</span><span class="token string">&quot;articleEditRef&quot;</span> @success<span class="token operator">=</span><span class="token string">&quot;onSuccess&quot;</span><span class="token operator">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article-edit</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// æ·»åŠ ä¿®æ”¹æˆåŠŸ</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'add'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœæ˜¯æ·»åŠ ï¼Œéœ€è¦è·³è½¬æ¸²æŸ“æœ€åä¸€é¡µï¼Œç¼–è¾‘ç›´æ¥æ¸²æŸ“å½“å‰é¡µ</span>
    <span class="token keyword">const</span> lastPage <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagesize<span class="token punctuation">)</span>
    params<span class="token punctuation">.</span>value<span class="token punctuation">.</span>pagenum <span class="token operator">=</span> lastPage
  <span class="token punctuation">}</span>
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="æ·»åŠ å®Œæˆåçš„å†…å®¹é‡ç½®"><a href="#æ·»åŠ å®Œæˆåçš„å†…å®¹é‡ç½®" class="header-anchor">#</a> æ·»åŠ å®Œæˆåçš„å†…å®¹é‡ç½®</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> editorRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	
<span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘å›æ˜¾'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log('æ·»åŠ åŠŸèƒ½')</span>
    <span class="token comment">// æ·»åŠ å®Œæˆåè¦å¯¹æŠ½å±‰å†…å®¹è¿›è¡Œé‡ç½®</span>
    <span class="token comment">// è¿™é‡Œé‡ç½®äº†è¡¨å•çš„æ•°æ®ï¼Œä½†æ˜¯å›¾ç‰‡åœ°å€å’Œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨éœ€è¦æ‰‹åŠ¨é‡ç½®</span>
    formModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>defaultForm <span class="token punctuation">}</span>
    imgUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç­‰å¾… DOM æ¸²æŸ“å®Œå†setHTMLï¼Œä¸ç„¶æŠ¥é”™</span>
    editorRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">setHTML</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token operator">&lt;</span>quill<span class="token operator">-</span>editor
  ref<span class="token operator">=</span><span class="token string">&quot;editorRef&quot;</span>
  <span class="token operator">...</span><span class="token operator">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>åŸæ¥çš„ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¯èƒ½<code>quill-editor</code>è¿˜æ²¡æŒ‚è½½åˆ°DOMä¸Šå°±æ‰§è¡Œäº†<code>setHTML</code></p> <p>è§£å†³æ–¹æ³•ï¼šåŠ ä¸Š<code>await nextTick()</code>ç­‰DOMæ¸²æŸ“å®Œå†å¯¹<code>quill-editor</code>è¿›è¡Œæ“ä½œ</p> <h3 id="ç¼–è¾‘æ–‡ç« å›æ˜¾"><a href="#ç¼–è¾‘æ–‡ç« å›æ˜¾" class="header-anchor">#</a> ç¼–è¾‘æ–‡ç« å›æ˜¾</h3> <p>å¦‚æœæ˜¯ç¼–è¾‘æ“ä½œï¼Œä¸€æ‰“å¼€æŠ½å±‰ï¼Œå°±éœ€è¦å‘é€è¯·æ±‚ï¼Œè·å–æ•°æ®è¿›è¡Œå›æ˜¾</p> <ol><li>å°è£…æ¥å£ï¼Œæ ¹æ® id è·å–è¯¦æƒ…æ•°æ®</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artGetDetailService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'my/article/info'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨æ¸²æŸ“</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘å›æ˜¾'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">artGetDetailService</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    formModel<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    imgUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> baseURL <span class="token operator">+</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>cover_img
    <span class="token comment">// å‘å¸ƒæ—¶æäº¤çš„æ˜¯æœ¬åœ°å›¾ç‰‡æ–‡ä»¶/ è€Œç¼–è¾‘æ—¶resæä¾›çš„æ˜¯å›¾ç‰‡çš„é“¾æ¥</span>
    <span class="token comment">// ç¼–è¾‘æ—¶æäº¤ç»™åå°ï¼Œå›¾ç‰‡éœ€è¦çš„æ˜¯ file æ ¼å¼çš„ï¼Œéœ€è¦å°†ç½‘ç»œå›¾ç‰‡ä¸‹è½½å¹¶è½¬æ¢æˆ file æ ¼å¼</span>
    <span class="token comment">// ç½‘ç»œå›¾ç‰‡è½¬æˆ file å¯¹è±¡ï¼Œéœ€è¦è½¬æ¢ä¸€ä¸‹</span>
    formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>cover_img <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imageUrlToFile</span><span class="token punctuation">(</span>imgUrl<span class="token punctuation">.</span>value<span class="token punctuation">,</span> formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>cover_img<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ·»åŠ åŠŸèƒ½'</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>chatGPT promptï¼šå°è£…ä¸€ä¸ªå‡½æ•°ï¼ŒåŸºäº axiosï¼Œ ç½‘ç»œå›¾ç‰‡åœ°å€ï¼Œè½¬ file å¯¹è±¡ï¼Œ è¯·æ³¨æ„ï¼šå†™ä¸­æ–‡æ³¨é‡Š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token comment">// å°†ç½‘ç»œå›¾ç‰‡åœ°å€è½¬æ¢ä¸ºFileå¯¹è±¡</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">imageUrlToFile</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> fileName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨axiosè·å–ç½‘ç»œå›¾ç‰‡æ•°æ®</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'arraybuffer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> imageData <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬äºŒæ­¥ï¼šå°†å›¾ç‰‡æ•°æ®è½¬æ¢ä¸ºBlobå¯¹è±¡</span>
    <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>imageData<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-type'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Fileå¯¹è±¡</span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">[</span>blob<span class="token punctuation">]</span><span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> blob<span class="token punctuation">.</span>type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> file<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'å°†å›¾ç‰‡è½¬æ¢ä¸ºFileå¯¹è±¡æ—¶å‘ç”Ÿé”™è¯¯:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="ç¼–è¾‘æ–‡ç« åŠŸèƒ½"><a href="#ç¼–è¾‘æ–‡ç« åŠŸèƒ½" class="header-anchor">#</a> ç¼–è¾‘æ–‡ç« åŠŸèƒ½</h3> <ol><li>å°è£…ç¼–è¾‘æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artEditService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'my/article/info'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>æäº¤æ—¶è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onPublish</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>formModel<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">artEditService</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
    ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ç¼–è¾‘æˆåŠŸ'</span><span class="token punctuation">)</span>
    visibleDrawer<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token string">'edit'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ è¯·æ±‚</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="æ–‡ç« åˆ é™¤"><a href="#æ–‡ç« åˆ é™¤" class="header-anchor">#</a> æ–‡ç« åˆ é™¤</h2> <ol><li>å°è£…åˆ é™¤æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">artDelService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'my/article/info'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­æ·»åŠ ç¡®è®¤æ¡†è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onDeleteArticle</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ElMessageBox<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'ä½ ç¡®è®¤åˆ é™¤è¯¥æ–‡ç« ä¿¡æ¯å—ï¼Ÿ'</span><span class="token punctuation">,</span> <span class="token string">'æ¸©é¦¨æç¤º'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">'ç¡®è®¤'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">'å–æ¶ˆ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">artDelService</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'åˆ é™¤æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">getArticleList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="chatgpt-copilot"><a href="#chatgpt-copilot" class="header-anchor">#</a> ChatGPT &amp; Copilot</h1> <h2 id="ai-çš„è®¤çŸ¥-è®²è§£å†…å®¹è¯´æ˜"><a href="#ai-çš„è®¤çŸ¥-è®²è§£å†…å®¹è¯´æ˜" class="header-anchor">#</a> AI çš„è®¤çŸ¥ &amp; è®²è§£å†…å®¹è¯´æ˜</h2> <p>è®¤çŸ¥åŒæ­¥ï¼š</p> <ol><li>AI æ—©å·²ä¸æ˜¯æ–°äº‹ç‰© (æ¥å—)  =&gt;  è¯­éŸ³è¯†åˆ«ï¼Œäººè„¸è¯†åˆ«ï¼Œæ— äººé©¾é©¶ï¼Œæ™ºèƒ½æœºå™¨äºº...    (åŒ…æ‹¬ ChatGPT ä¹Ÿæ˜¯ç ”å‘äº†å¤šå¹´çš„äº§ç‰©)</li> <li>AI æœ¬è´¨æ˜¯æ™ºèƒ½å·¥å…· (è®¤è¯†)  =&gt;  äººå·¥æ™ºèƒ½è¾…åŠ©ï¼Œå¯ä»¥æå‡æ•ˆç‡ï¼Œä½†ä¸å…·å¤‡æ€æƒ³æ„è¯†ï¼Œæ— æ³•ä»é›¶åˆ°ä¸€å–ä»£äººç±»å·¥ä½œ</li> <li>AI ä¸€å®šä¼šæ·˜æ±°æ‰ä¸€éƒ¨åˆ†äºº  =&gt;  é€†æ°´è¡ŒèˆŸï¼Œä¸è¿›åˆ™é€€ï¼›å­¦ä¼šæ‹¥æŠ±å˜åŒ–ï¼Œå°½æ—©ä¸Šè½¦</li></ol> <p>ä¸¤ä¸ªå·¥å…·ï¼š</p> <ol><li><p>ChatGPT 3.5 çš„ä½¿ç”¨   (4.0 ä½¿ç”¨æ–¹å¼ä¸€è‡´ï¼Œå›ç­”å‡†ç¡®åº¦æ›´é«˜ï¼Œä½†ä»˜è´¹ï¼Œä¸”æ¯3å°æ—¶ï¼Œæœ‰æ¬¡æ•°é™åˆ¶)</p> <ol><li><p>æ­£å¸¸æ³¨å†Œæµç¨‹  (IPé™åˆ¶ï¼Œæ‰‹æœºå·é™åˆ¶)</p></li> <li><p>ä¸‰æ–¹æ•´åˆäº§å“</p> <ul><li><p>è°·æ­Œæœç´¢ï¼šchatgpt å…è´¹ç½‘ç«™åˆ—è¡¨</p></li> <li><p>https://github.com/LiLittleCat/awesome-free-chatgpt</p></li></ul></li></ol></li> <li><p>å·¥å…· Github Copilot æ™ºèƒ½ç”Ÿæˆä»£ç </p></li></ol> <h2 id="chatgpt-çš„åŸºæœ¬ä½¿ç”¨-prompt-ä¼˜åŒ–"><a href="#chatgpt-çš„åŸºæœ¬ä½¿ç”¨-prompt-ä¼˜åŒ–" class="header-anchor">#</a> ChatGPT çš„åŸºæœ¬ä½¿ç”¨ - Prompt ä¼˜åŒ–</h2> <p>AI äº’åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå®¹æ˜“å‡ºç°çš„é—®é¢˜ï¼š</p> <ul><li>AIæœªèƒ½ç†è§£é—®é¢˜çš„æ ¸å¿ƒè¦ç‚¹</li> <li>AIçš„å›ç­”è¿‡äºå®½æ³› æˆ– è¿‡äºå…·ä½“</li> <li>AIæä¾›äº†é”™è¯¯çš„ä¿¡æ¯æˆ–è§‚ç‚¹</li> <li>AIæœªèƒ½æä¾›æœ‰ä»·å€¼çš„å»ºè®®æˆ–è§£å†³æ–¹æ¡ˆ</li></ul> <p>åœ¨è¯†åˆ«äº†é—®é¢˜æ‰€åœ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä»¥ä¸‹ç­–ç•¥æ¥ä¼˜åŒ–æˆ‘ä»¬çš„Promptï¼š</p> <ul><li><p><strong>æ˜ç¡®æé—®</strong>ï¼š</p> <p>ç¡®ä¿é—®é¢˜è¡¨è¿°æ¸…æ™°æ˜ç¡®ï¼Œå…³é”®å­—çš„å‡†ç¡®åº¦ï¼Œå†³å®šäº†AI å¯¹äºéœ€æ±‚çš„ç†è§£ã€‚</p></li> <li><p><strong>ç»†åŒ–éœ€æ±‚ï¼š</strong></p> <p>å°†é—®é¢˜æ‹†åˆ†æˆå¤šä¸ªå°é—®é¢˜ï¼Œå¯ä»¥å¸®åŠ©AIæ›´å…·é’ˆå¯¹æ€§åœ°å›ç­”ï¼Œä¹Ÿåˆ©äºå³æ—¶çº é”™ã€‚</p></li> <li><p><strong>æ·»åŠ èƒŒæ™¯ä¿¡æ¯ï¼š</strong></p> <p>æä¾›æœ‰å…³é—®é¢˜èƒŒæ™¯çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç»™ AI é¢„è®¾ä¸€ä¸ªè§’è‰²ï¼Œå°†æœ‰åŠ©äºAIç”Ÿæˆæ›´å…·æ·±åº¦å’Œä»·å€¼çš„å›ç­”ã€‚</p></li> <li><p><strong>é€‚å½“å¼•å¯¼ï¼š</strong></p> <p>æ¯”å¦‚ï¼šâ€œä¾‹å¦‚â€ã€â€œè¯·æ³¨æ„â€ã€â€œè¯·ä½¿ç”¨â€ç­‰ï¼Œæ¥å‘Šè¯‰æ¨¡å‹ä½ æœŸæœ›å®ƒåšä»€ä¹ˆ æˆ–è€… ä¸åšä»€ä¹ˆ</p></li> <li><p><strong>é™åˆ¶èŒƒå›´ï¼š</strong></p> <p>é€šè¿‡é™å®šå›ç­”çš„èŒƒå›´å’Œé•¿åº¦ï¼Œå¯ä»¥å¼•å¯¼AIç”Ÿæˆæ›´ç²¾ç‚¼çš„å›ç­”</p></li></ul> <p>â€‹	...</p> <h3 id="æ¡ˆä¾‹-å‰ç«¯ç®€å†"><a href="#æ¡ˆä¾‹-å‰ç«¯ç®€å†" class="header-anchor">#</a> æ¡ˆä¾‹ - å‰ç«¯ç®€å†</h3> <h4 id="prompt-ä¼˜åŒ–å‰"><a href="#prompt-ä¼˜åŒ–å‰" class="header-anchor">#</a> Prompt ä¼˜åŒ–å‰ï¼š</h4> <p>Prompt1:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>å‰ç«¯ç®€å†
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="prompt-ä¼˜åŒ–å"><a href="#prompt-ä¼˜åŒ–å" class="header-anchor">#</a> Prompt ä¼˜åŒ–åï¼š</h4> <p>Prompt1:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>èƒŒæ™¯ï¼šä½ æ˜¯ä¸€åã€å…·æœ‰ä¸‰å¹´å¼€å‘ç»éªŒã€‘çš„å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œè¿™ä¸‰å¹´æœŸé—´ï¼Œå‰ä¸¤å¹´ï¼Œä½ åšçš„ã€é‡‘èã€‘ç›¸å…³å››ä¸ªé¡¹ç›®ï¼Œæœ€åä¸€å¹´åšçš„æ˜¯ã€åŒ»ç–—ã€‘ç›¸å…³é¢†åŸŸçš„ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸”æœ‰ä¸€å®šçš„ç®¡ç† 10äºº+ å›¢é˜Ÿçš„ç»éªŒã€‚ä¸»è¦çš„æŠ€æœ¯æ ˆï¼šã€Vueã€‘ å’Œ ã€å°ç¨‹åºã€‘ã€‚ç”±äºä½ æ˜¯è®¡ç®—æœºè½¯ä»¶å·¥ç¨‹ä¸“ä¸šï¼Œæ‰€ä»¥ä½ å…·å¤‡ä¸€äº›Javaåå°ã€Mysqlæ•°æ®åº“çš„çŸ¥è¯†ï¼Œä¹ŸæŒæ¡ä¸€äº›åŸºç¡€çš„ç®—æ³•ã€‚

é—®é¢˜ï¼šä½ ä¼šå¦‚ä½•ç¼–å†™ä½ çš„ç®€å†ä¸ªäººæŠ€èƒ½ä»‹ç»

è¦æ±‚ï¼š8æ¡æŠ€èƒ½ä»‹ç»ï¼Œè¯·æ³¨æ„ï¼šä½ ä¸ä¼š angularã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Prompt2ï¼š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>åŸºäºä¸Šæ–‡æƒ…å¢ƒï¼Œä½ ä¼šå¦‚ä½•ç¼–å†™ä½ çš„é¡¹ç›®ç»éªŒä»‹ç»
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Prompt3ï¼š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>ä½ åˆšæ‰è¯´çš„æ–¹å‘å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æˆ‘æƒ³çœ‹åˆ°æ›´å¤šçš„é¡¹ç›®æŠ€æœ¯äº®ç‚¹ï¼Œé¡¹ç›®ä¸šåŠ¡è§£å†³æ–¹æ¡ˆã€‚
è¯·æ³¨æ„ï¼šæ¯ä¸ªé¡¹ç›®<span class="token number">3</span>ä¸ªæŠ€æœ¯äº®ç‚¹ï¼Œ<span class="token number">3</span>ä¸ªä¸šåŠ¡è§£å†³æ–¹æ¡ˆã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="å·¥å…·-github-copilot-æ™ºèƒ½ç”Ÿæˆä»£ç çš„ä½¿ç”¨"><a href="#å·¥å…·-github-copilot-æ™ºèƒ½ç”Ÿæˆä»£ç çš„ä½¿ç”¨" class="header-anchor">#</a> å·¥å…· Github Copilot æ™ºèƒ½ç”Ÿæˆä»£ç çš„ä½¿ç”¨</h2> <h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="header-anchor">#</a> å®‰è£…æ­¥éª¤</h3> <ul><li>ç™»å½• githubï¼Œè¯•ç”¨ Copilot</li> <li>æ‰“å¼€ vscodeï¼Œ æœç´¢å¹¶å®‰è£…æ’ä»¶ Copilot</li></ul> <h3 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="header-anchor">#</a> ä½¿ç”¨è¯´æ˜</h3> <ul><li>åˆ é™¤é”®ï¼šä¸æ¥å—</li> <li>Tabé”®ï¼šæ¥æ”¶</li> <li>Ctrl + enterï¼š æŸ¥çœ‹æ›´å¤šæ–¹æ¡ˆ</li></ul> <h2 id="ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-åŸºæœ¬èµ„æ–™"><a href="#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-åŸºæœ¬èµ„æ–™" class="header-anchor">#</a> ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - åŸºæœ¬èµ„æ–™</h2> <h3 id="é™æ€ç»“æ„-æ ¡éªŒå¤„ç†"><a href="#é™æ€ç»“æ„-æ ¡éªŒå¤„ç†" class="header-anchor">#</a> é™æ€ç»“æ„ + æ ¡éªŒå¤„ç†</h3> <p>chatgpt prompt æç¤ºè¯å‚è€ƒï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¯·åŸºäº elementPlus å’Œ Vue3 çš„è¯­æ³•ï¼Œç”Ÿæˆç»„ä»¶ä»£ç 
è¦æ±‚ï¼š
ä¸€ã€è¡¨å•ç»“æ„è¦æ±‚
1.  ç»„ä»¶ä¸­åŒ…å«ä¸€ä¸ªel-formè¡¨å•ï¼Œæœ‰å››è¡Œå†…å®¹ï¼Œå‰ä¸‰è¡Œæ˜¯è¾“å…¥æ¡†ï¼Œç¬¬å››è¡Œæ˜¯æŒ‰é’®
2. ç¬¬ä¸€è¡Œ label ç™»å½•åç§°ï¼Œè¾“å…¥æ¡†ç¦ç”¨ä¸å¯è¾“å…¥çŠ¶æ€
3. ç¬¬äºŒè¡Œ label ç”¨æˆ·æ˜µç§°ï¼Œè¾“å…¥æ¡†å¯è¾“å…¥
4. ç¬¬ä¸‰è¡Œ label ç”¨æˆ·é‚®ç®±ï¼Œè¾“å…¥æ¡†å¯è¾“å…¥
5. ç¬¬å››è¡ŒæŒ‰é’®ï¼Œæäº¤ä¿®æ”¹

äºŒã€æ ¡éªŒéœ€æ±‚
ç»™æ˜µç§° å’Œ é‚®ç®±æ·»åŠ æ ¡éªŒ
1. æ˜µç§° nickname å¿…é¡»æ˜¯2-10ä½çš„éç©ºå­—ç¬¦ä¸²
2. é‚®ç®± email ç¬¦åˆé‚®ç®±æ ¼å¼å³å¯ï¼Œä¸”ä¸èƒ½ä¸ºç©º
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å‚è€ƒç›®æ ‡ä»£ç ï¼š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { useUserStore } from '@/stores'
import { ref } from 'vue'
// æ˜¯åœ¨ä½¿ç”¨ä»“åº“ä¸­æ•°æ®çš„åˆå§‹å€¼--æ— éœ€å“åº”å¼ï¼Œæ‰€ä»¥è¿™æ ·è§£æ„å¯ä»¥çš„
const {
  user: { username, nickname, email, id },
  getUser()
} = useUserStore()
	
const userInfo = ref({ username, nickname, email, id })

const rules = {
  nickname: [
    { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·æ˜µç§°', trigger: 'blur' },
    {
      pattern: /^\S{2,10}$/,
      message: 'æ˜µç§°å¿…é¡»æ˜¯2-10ä½çš„éç©ºå­—ç¬¦ä¸²',
      trigger: 'blur'
    }
  ],
  email: [
    { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·é‚®ç®±', trigger: 'blur' },
    { type: 'email', message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®', trigger: 'blur' }
  ]
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-container</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åŸºæœ¬èµ„æ–™<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span>
          <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç™»å½•åç§°<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç”¨æˆ·æ˜µç§°<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nickname<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.nickname<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç”¨æˆ·é‚®ç®±<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æäº¤ä¿®æ”¹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="å°è£…æ¥å£-æ›´æ–°ä¸ªäººä¿¡æ¯"><a href="#å°è£…æ¥å£-æ›´æ–°ä¸ªäººä¿¡æ¯" class="header-anchor">#</a> å°è£…æ¥å£ï¼Œæ›´æ–°ä¸ªäººä¿¡æ¯</h3> <ol><li>å°è£…æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userUpdateInfoService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> nickname<span class="token punctuation">,</span> email <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/my/userinfo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> nickname<span class="token punctuation">,</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­æ ¡éªŒåï¼Œå°è£…è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> valid <span class="token operator">=</span> <span class="token keyword">await</span> formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">userUpdateInfoService</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹æˆåŠŸ'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span>@click<span class="token operator">=</span><span class="token string">&quot;onSubmit&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-æ›´æ¢å¤´åƒ"><a href="#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-æ›´æ¢å¤´åƒ" class="header-anchor">#</a> ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - æ›´æ¢å¤´åƒ</h2> <h3 id="é™æ€ç»“æ„"><a href="#é™æ€ç»“æ„" class="header-anchor">#</a> é™æ€ç»“æ„</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { ref } from 'vue'
import { Plus, Upload } from '@element-plus/icons-vue'
import { useUserStore } from '@/stores'

const userStore = useUserStore()

const imgUrl = ref(userStore.user.user_pic)
const onUploadFile = (file) =&gt; {
  console.log(file)
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-container</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ›´æ¢å¤´åƒ<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span>
          <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadRef<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-uploader<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:auto-upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:show-file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onUploadFile<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imgUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imgUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-else</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/avatar.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>278<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Plus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          é€‰æ‹©å›¾ç‰‡
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          ä¸Šä¼ å¤´åƒ
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
.avatar-uploader {
  :deep() {
    .avatar {
      width: 278px;
      height: 278px;
      display: block;
    }
    .el-upload {
      border: 1px dashed var(--el-border-color);
      border-radius: 6px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: var(--el-transition-duration-fast);
    }
    .el-upload:hover {
      border-color: var(--el-color-primary);
    }
    .el-icon.avatar-uploader-icon {
      font-size: 28px;
      color: #8c939d;
      width: 278px;
      height: 278px;
      text-align: center;
    }
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h3 id="é€‰æ‹©é¢„è§ˆå›¾ç‰‡"><a href="#é€‰æ‹©é¢„è§ˆå›¾ç‰‡" class="header-anchor">#</a> é€‰æ‹©é¢„è§ˆå›¾ç‰‡</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> uploadRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> imgUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>userStore<span class="token punctuation">.</span>user<span class="token punctuation">.</span>user_pic<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onUploadFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åŸºäº FileReader è¯»å–å›¾ç‰‡åšé¢„è§ˆ</span>
  <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>raw<span class="token punctuation">)</span>
  reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    imgUrl<span class="token punctuation">.</span>value <span class="token operator">=</span> reader<span class="token punctuation">.</span>result
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span> 
<span class="token operator">&lt;</span>el<span class="token operator">-</span>button
  @click<span class="token operator">=</span><span class="token string">&quot;uploadRef.$el.querySelector('input').click()&quot;</span>
  type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span>
  <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Plus&quot;</span>
  size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span>
  <span class="token operator">&gt;</span>é€‰æ‹©å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span>
<span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯<strong>å°†å›¾ç‰‡æ–‡ä»¶è½¬æ¢ä¸º Base64 æ ¼å¼</strong></p> <p>ä»£ç è§£æï¼š</p> <ol><li><strong><code>FileReader</code> å¯¹è±¡ï¼š</strong> <ul><li><code>FileReader</code> æ˜¯æµè§ˆå™¨æä¾›çš„ç”¨äºè¯»å–æ–‡ä»¶å†…å®¹çš„ APIã€‚</li></ul></li> <li><strong><code>readAsDataURL(file.raw)</code> æ–¹æ³•ï¼š</strong> <ul><li><code>readAsDataURL</code> æ˜¯ <code>FileReader</code> æä¾›çš„æ–¹æ³•ï¼Œç”¨äºå°†æ–‡ä»¶è¯»å–ä¸º Base64 ç¼–ç çš„ Data URL å­—ç¬¦ä¸²ã€‚</li> <li><strong><code>file.raw</code></strong> è¡¨ç¤ºä½ ä¼ å…¥çš„æ–‡ä»¶å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ <code>File</code> æˆ– <code>Blob</code>ã€‚</li></ul></li> <li><strong><code>onload</code> äº‹ä»¶ï¼š</strong> <ul><li>å½“æ–‡ä»¶è¯»å–å®Œæˆåï¼Œ<code>onload</code> äº‹ä»¶ä¼šè§¦å‘ã€‚</li> <li><code>reader.result</code> åŒ…å«äº†<strong>Base64 ç¼–ç çš„æ–‡ä»¶å†…å®¹</strong>ï¼Œä»¥ <code>data:[MIMEç±»å‹];base64,</code> å¼€å¤´ã€‚</li></ul></li> <li><strong><code>imgUrl.value = reader.result</code>ï¼š</strong> <ul><li>è¿™é‡Œå°†è¯»å–åˆ°çš„ Base64 å­—ç¬¦ä¸²èµ‹å€¼ç»™ <code>imgUrl</code>ï¼Œä½ å¯ä»¥å°†å®ƒç”¨ä½œå›¾ç‰‡çš„ <code>src</code> å±æ€§è¿›è¡Œé¢„è§ˆã€‚</li></ul></li></ol> <h3 id="ä¸Šä¼ å¤´åƒ"><a href="#ä¸Šä¼ å¤´åƒ" class="header-anchor">#</a> ä¸Šä¼ å¤´åƒ</h3> <ol><li>å°è£…æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ›´æ–°ç”¨æˆ·å¤´åƒ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userUpdateAvatarService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">avatar</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string">'/my/update/avatar'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> avatar <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>è°ƒç”¨æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> userUpdateAvatarService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/user'</span>

<span class="token keyword">const</span> <span class="token function-variable function">onUpdateAvatar</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">userUpdateAvatarService</span><span class="token punctuation">(</span>imgUrl<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token keyword">await</span> userStore<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'æ›´æ¢å¤´åƒæˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span>@click<span class="token operator">=</span><span class="token string">&quot;userUpdateAvatarService&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-é‡ç½®å¯†ç "><a href="#ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜-é‡ç½®å¯†ç " class="header-anchor">#</a> ä¸ªäººä¸­å¿ƒé¡¹ç›®å®æˆ˜ - é‡ç½®å¯†ç </h2> <p>chatgpt  prompt</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>è¯·åŸºäº elementPlus å’Œ Vue3 çš„è¯­æ³•ï¼Œç”Ÿæˆç»„ä»¶ä»£ç 
è¦æ±‚ï¼š
ä¸€ã€è¡¨å•ç»“æ„è¦æ±‚
<span class="token number">1.</span> ç»„ä»¶ä¸­åŒ…å«ä¸€ä¸ªel<span class="token operator">-</span>formè¡¨å•ï¼Œæœ‰å››è¡Œå†…å®¹ï¼Œå‰ä¸‰è¡Œæ˜¯è¡¨å•è¾“å…¥æ¡†ï¼Œç¬¬å››è¡Œæ˜¯ä¸¤ä¸ªæŒ‰é’®
<span class="token number">2.</span> ç¬¬ä¸€è¡Œ label åŸå¯†ç 
<span class="token number">3.</span> ç¬¬äºŒè¡Œ label æ–°å¯†ç 
<span class="token number">4.</span> ç¬¬ä¸‰è¡Œ label ç¡®è®¤å¯†ç 
<span class="token number">5.</span> ç¬¬å››è¡Œä¸¤ä¸ªæŒ‰é’®ï¼Œä¿®æ”¹å¯†ç  å’Œ é‡ç½®

äºŒã€formç»‘å®šå­—æ®µå¦‚ä¸‹ï¼š
<span class="token keyword">const</span> pwdForm <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">old_pwd</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">new_pwd</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">re_pwd</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ä¸‰ã€æ ¡éªŒéœ€æ±‚
æ‰€æœ‰å­—æ®µï¼Œéƒ½æ˜¯ <span class="token number">6</span><span class="token operator">-</span><span class="token number">15</span>ä½ éç©º
è‡ªå®šä¹‰æ ¡éªŒ<span class="token number">1</span>ï¼šåŸå¯†ç  å’Œ æ–°å¯†ç ä¸èƒ½ä¸€æ ·
è‡ªå®šä¹‰æ ¡éªŒ<span class="token number">2</span>ï¼šæ–°å¯†ç  å’Œ ç¡®è®¤å¯†ç å¿…é¡»ä¸€æ ·
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="é™æ€ç»“æ„-æ ¡éªŒå¤„ç†-2"><a href="#é™æ€ç»“æ„-æ ¡éªŒå¤„ç†-2" class="header-anchor">#</a> é™æ€ç»“æ„ + æ ¡éªŒå¤„ç†</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { ref } from 'vue'
const pwdForm = ref({
  old_pwd: '',
  new_pwd: '',
  re_pwd: ''
})

const checkOldSame = (rule, value, cb) =&gt; {
  if (value === pwdForm.value.old_pwd) {
    cb(new Error('åŸå¯†ç å’Œæ–°å¯†ç ä¸èƒ½ä¸€æ ·!'))
  } else {
    cb()
  }
}

const checkNewSame = (rule, value, cb) =&gt; {
  if (value !== pwdForm.value.new_pwd) {
    cb(new Error('æ–°å¯†ç å’Œç¡®è®¤å†æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€æ ·!'))
  } else {
    cb()
  }
}

const rules = {
  // åŸå¯†ç 
  old_pwd: [
    { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
    {
      pattern: /^\S{6,15}$/,
      message: 'å¯†ç é•¿åº¦å¿…é¡»æ˜¯6-15ä½çš„éç©ºå­—ç¬¦ä¸²',
      trigger: 'blur'
    }
  ],
  // æ–°å¯†ç 
  new_pwd: [
    { required: true, message: 'è¯·è¾“å…¥æ–°å¯†ç ', trigger: 'blur' },
    {
      pattern: /^\S{6,15}$/,
      message: 'å¯†ç é•¿åº¦å¿…é¡»æ˜¯6-15ä½çš„éç©ºå­—ç¬¦ä¸²',
      trigger: 'blur'
    },
    { validator: checkOldSame, trigger: 'blur' }
  ],
  // ç¡®è®¤æ–°å¯†ç 
  re_pwd: [
    { required: true, message: 'è¯·å†æ¬¡ç¡®è®¤æ–°å¯†ç ', trigger: 'blur' },
    {
      pattern: /^\S{6,15}$/,
      message: 'å¯†ç é•¿åº¦å¿…é¡»æ˜¯6-15ä½çš„éç©ºå­—ç¬¦ä¸²',
      trigger: 'blur'
    },
    { validator: checkNewSame, trigger: 'blur' }
  ]
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-container</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>é‡ç½®å¯†ç <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span>
          <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwdForm<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åŸå¯†ç <span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>old_pwd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwdForm.old_pwd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–°å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>new_pwd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwdForm.new_pwd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç¡®è®¤æ–°å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>re_pwd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwdForm.re_pwd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            &lt;el-button @click=&quot;onSubmit&quot; type=&quot;primary&quot;&gt;ä¿®æ”¹å¯†ç </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            &lt;el-button @click=&quot;onReset&quot;&gt;é‡ç½®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-container</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><h3 id="å°è£…æ¥å£-æ›´æ–°å¯†ç ä¿¡æ¯"><a href="#å°è£…æ¥å£-æ›´æ–°å¯†ç ä¿¡æ¯" class="header-anchor">#</a> å°è£…æ¥å£ï¼Œæ›´æ–°å¯†ç ä¿¡æ¯</h3> <ol><li>å°è£…æ¥å£</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ›´æ–°ç”¨æˆ·å¯†ç </span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userUpdatePasswordService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> old_pwd<span class="token punctuation">,</span> new_pwd<span class="token punctuation">,</span> re_pwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  request<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string">'/my/updatepwd'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> old_pwd<span class="token punctuation">,</span> new_pwd<span class="token punctuation">,</span> re_pwd <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> userUpdatePasswordService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/user'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useUserStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/stores'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> valid <span class="token operator">=</span> <span class="token keyword">await</span> formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">userUpdatePasswordService</span><span class="token punctuation">(</span>pwdForm<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'æ›´æ¢å¯†ç æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    userStore<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    userStore<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">onReset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/lumengde123/vuepress-theme-vdoing/edit/master/docs/01.ç¼–ç¨‹/30.å°ç¨‹åº/12.å¤§äº‹ä»¶åå°ç®¡ç† vue3.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2025/07/10, 12:43:44</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/5c2b6c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">é»‘é©¬æ™ºæ…§å•†åŸ Vue2</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/5c2b6c/" class="prev">é»‘é©¬æ™ºæ…§å•†åŸ Vue2</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/def13f/"><div>
            è¾…åŠ©è„šæœ¬
            <!----></div></a> <span class="date">07-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/a6fc48/"><div>
            å¥³è£…å•†å“ä¼˜æƒ æ´»åŠ¨å’Œæ¨å¹¿
            <!----></div></a> <span class="date">07-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/bd3388/"><div>
            åº—ç®¡å®¶ä½¿ç”¨æ•™ç¨‹
            <!----></div></a> <span class="date">07-11</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="1311788787@qq.com" title="1311788787" target="_blank" class="iconfont icon-QQ"></a><a href="https://github.com/lumengde123" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://space.bilibili.com/37080841/favlist?fid=91219941&amp;ftype=create" title="Bilibili" target="_blank" class="iconfont icon-bilibili"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2024-2025
    <span>Lu mengde</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.248dd438.js" defer></script><script src="/assets/js/2.344e1e7e.js" defer></script><script src="/assets/js/33.7231f4ef.js" defer></script>
  </body>
</html>
